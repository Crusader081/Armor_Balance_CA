;{mission
	{Human "special/hint" 0x8000
		{Position 5167.48 -229.42}
		{SpawnedInFog}
		{Player 3}
		{MID 1}
		{NameId 80 0}
		{FsmState "stand"}
	}
	{Entity "skirmish_flag_victory" 0x8001
		{Position 5351.98 -471.82}
		{TexMod "red"}
		{Player 3}
		{MID 2}
	}
	{Tags "hinter" "hidden" 0x8000}
	{Tags "victory_point" "hidden" 0x8001}
	{Inventory 0x8000
		{box
			{clear}
			{item "b33r" {cell 0 0}}
			{item "winterhat" {cell 3 0}{user "head"}}
		}
	}
	{Helpers
		{event "ally:ita"}
		{event "ally:eng"}
		{event "ally:fra"}
		{event "ally:ger"}
		{event "ally:hun"}
		{event "ally:jap"}
		{event "ally:rus"}
		{event "ally:set"}
		{event "ally:usa"}
		{event "bad_weather"}
		{event "battle:def"}
		{event "battle:new_skirmish"}
		{event "battle:none"}
		{event "battle:special"}
		{event "battle:stand"}
		{event "battle:tank"}
		{event "battle_mod:fps_tank"}
		{event "battle_mod:light_veh"}
		{event "battle_mod:skr_inf"}
		{event "battle_mod:store"}
		{event "dark_night"}
		{event "enemy:un_xcount"}
		{event "good_to_go"}
		{event "inf_resupply"}
		{event "inf_truck"}
		{event "kill_all_enemys"}
		{event "menu:0"}
		{event "menu:0_ai_off"}
		{event "menu:0_ai_on"}
		{event "menu:0_ally_units"}
		{event "menu:0_change_weather"}
		{event "menu:0_clear_target"}
		{event "menu:0_flak_ai_off"}
		{event "menu:0_flak_ai_on"}
		{event "menu:0_loan_out_1000"}
		{event "menu:0_player_ai_medic_off"}
		{event "menu:0_player_ai_medic_on"}
		{event "menu:0_repay_1000"}
		{event "menu:0_tank_trailer"}
		{event "menu:0_upgrade_this_tank"}
		{event "menu:0_upgrade_this_tank2"}
		{event "menu:armor"}
		{event "menu:back"}
		{event "menu:btr"}
		{event "menu:heavy"}
		{event "menu:hero"}
		{event "menu:inf"}
		{event "menu:no"}
		{event "menu:spg"}
		{event "menu:support"}
		;{event "menu:yes"}
		{event "menu_1"}
		{event "menu_2"}
		{event "menu_3"}
		{event "player:ita"}
		{event "player:eng"}
		{event "player:fra"}
		{event "player:ger"}
		{event "player:hun"}
		{event "player:jap"}
		{event "player:rus"}
		{event "player:set"}
		{event "player:usa"}
		{event "player_ammo_truck"}
		{event "player_truck_ammo"}
		{event "players:menu_end"}
		{event "players:menu_start"}
		{event "skirmish_reinf_arrive"}
		{event "start_won"}
		{event "stop_ai"}
		{event "store_units"}
		{event "store_units_cannon"}
		{event "store_units_end"}
		{event "store_units_end_work"}
		{event "store_units_infantry"}
		{event "store_units_load_end"}
		{event "store_units_remove_slots"}
		{event "store_units_tank"}
		{reinforcements
			{scoreTotal 0}
			{scoreCurrent 0}
			{"kill_all_enemy"
				{state hidden}
				{text "$/kill_all_enemy"}
				{image "kill_all"}
				{hint "$/kill_all_enemy"}
				{count 1}
				{score 0}
				{delay 0}
				{eventStart "kill_all_enemys"}
			}
			{"store_units_tanks"
				{state hidden}
				{text "$/stored_veh"}
				{image "stored_veh"}
				{hint "$/stored_veh_hint"}
				{count -1}
				{score 500}
				{delay 10}
				{eventStart "store_units_tank"}
				{waypoint "3000"}
			}
			{"menu_yes"
				{state hidden}
				{text "$/menu_yes"}
				{image "choice1"}
				{hint ""}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:yes"}
			}
			{"menu_no"
				{state hidden}
				{text "$/menu_no"}
				{image "choice2"}
				{hint ""}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:no"}
			}
			{"inf_truck:ger"
				{state hidden}
				{text "$/stored_inf_truck"}
				{image np_opel}
				{hint "$/stored_inf_truck_hint"}
				{count -1}
				{score 0}
				{delay 2}
				{eventStart "inf_truck"}
				{waypoint "3000"}
			}
			{"inf_truck:rus"
				{state hidden}
				{text "$/stored_inf_truck"}
				{image np_zis5}
				{hint "$/stored_inf_truck_hint"}
				{count -1}
				{score 0}
				{delay 2}
				{eventStart "inf_truck"}
				{waypoint "3000"}
			}
			{"inf_truck:eng"
				{state hidden}
				{text "$/stored_inf_truck"}
				{image bedford_inf}
				{hint "$/stored_inf_truck_hint"}
				{count -1}
				{score 0}
				{delay 2}
				{eventStart "inf_truck"}
				{waypoint "3000"}
			}
			{"inf_truck:usa"
				{state hidden}
				{text "$/stored_inf_truck"}
				{image cckw353}
				{hint "$/stored_inf_truck_hint"}
				{count -1}
				{score 0}
				{delay 2}
				{eventStart "inf_truck"}
				{waypoint "3000"}
			}
			{"inf_truck:jap"
				{state hidden}
				{text "$/stored_inf_truck"}
				{image np_type94}
				{hint "$/stored_inf_truck_hint"}
				{count -1}
				{score 0}
				{delay 2}
				{eventStart "inf_truck"}
				{waypoint "3000"}
			}
			{"inf_truck:hun"
				{state hidden}
				{text "$/stored_inf_truck"}
				{image botond_inf}
				{hint "$/stored_inf_truck_hint"}
				{count -1}
				{score 0}
				{delay 2}
				{eventStart "inf_truck"}
				{waypoint "3000"}
			}
			{"inf_truck:ita"
				{state hidden}
				{text "$/stored_inf_truck"}
				{image fiat35_inf}
				{hint "$/stored_inf_truck_hint"}
				{count -1}
				{score 0}
				{delay 2}
				{eventStart "inf_truck"}
				{waypoint "3000"}
			}
			{"inf_truck:fra"
				{state hidden}
				{text "$/stored_inf_truck"}
				{image renault_inf}
				{hint "$/stored_inf_truck_hint"}
				{count -1}
				{score 0}
				{delay 2}
				{eventStart "inf_truck"}
				{waypoint "3000"}
			}
			{"menu:0:ger"
				{state hidden}
				{text "$/control_menu"}
				{image ger_skirmish}
				{hint "$/control_menu_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0"}
			}
			{"menu:0:rus"
				{state hidden}
				{text "$/control_menu"}
				{image rus_skirmish}
				{hint "$/control_menu_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0"}
			}
			{"menu:0:eng"
				{state hidden}
				{text "$/control_menu"}
				{image eng_skirmish}
				{hint "$/control_menu_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0"}
			}
			{"menu:0:usa"
				{state hidden}
				{text "$/control_menu"}
				{image usa_skirmish}
				{hint "$/control_menu_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0"}
			}
			{"menu:0:jap"
				{state hidden}
				{text "$/control_menu"}
				{image jap_skirmish}
				{hint "$/control_menu_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0"}
			}
			{"menu:0:hun"
				{state hidden}
				{text "$/control_menu"}
				{image hun_skirmish}
				{hint "$/control_menu_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0"}
			}
			{"menu:0:ita"
				{state hidden}
				{text "$/control_menu"}
				{image ita_skirmish}
				{hint "$/control_menu_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0"}
			}
			{"menu:0:fra"
				{state hidden}
				{text "$/control_menu"}
				{image fra_skirmish}
				{hint "$/control_menu_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0"}
			}
			{"menu_0_change_weather"
				{state "-"}
				{text "$/change_weather"}
				{image change_weather}
				{hint "$/change_weather_hint"}
				{count -1}
				{score 0}
				{delay 1}
				{eventStart "menu:0_change_weather"}
			}
			{"menu_0_bad_weather"
				{state hidden}
				{text "$/no_air_strike"}
				{image no_air}
				{hint "$/no_air_strike_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "bad_weather"}
			}
			{"menu_0_clear_target"
				{state "-"}
				{text "$/clear_this_vehicle"}
				{image delete_this_vehicle}
				{hint "$/clear_this_vehicle_hint"}
				{count -1}
				{score 0}
				{delay 3}
				{eventStart "menu:0_clear_target"}
				{waypoint "3000"}
			}
			{"inf_resupply:ger"
				{state hidden}
				{text "$/inf_ammo_resupply"}
				{image np_opel}
				{hint "$/inf_ammo_resupply_hint"}
				{count -1}
				{score 0}
				{delay 10}
				{eventStart "inf_resupply"}
				{waypoint "3000"}
			}
			{"inf_resupply:rus"
				{state hidden}
				{text "$/inf_ammo_resupply"}
				{image np_zis5}
				{hint "$/inf_ammo_resupply_hint"}
				{count -1}
				{score 0}
				{delay 10}
				{eventStart "inf_resupply"}
				{waypoint "3000"}
			}
			{"inf_resupply:eng"
				{state hidden}
				{text "$/inf_ammo_resupply"}
				{image bedford_inf}
				{hint "$/inf_ammo_resupply_hint"}
				{count -1}
				{score 0}
				{delay 10}
				{eventStart "inf_resupply"}
				{waypoint "3000"}
			}
			{"inf_resupply:usa"
				{state hidden}
				{text "$/inf_ammo_resupply"}
				{image cckw353}
				{hint "$/inf_ammo_resupply_hint"}
				{count -1}
				{score 0}
				{delay 10}
				{eventStart "inf_resupply"}
				{waypoint "3000"}
			}
			{"inf_resupply:jap"
				{state hidden}
				{text "$/inf_ammo_resupply"}
				{image np_type94}
				{hint "$/inf_ammo_resupply_hint"}
				{count -1}
				{score 0}
				{delay 10}
				{eventStart "inf_resupply"}
				{waypoint "3000"}
			}
			{"inf_resupply:hun"
				{state hidden}
				{text "$/inf_ammo_resupply"}
				{image botond_inf}
				{hint "$/inf_ammo_resupply_hint"}
				{count -1}
				{score 0}
				{delay 10}
				{eventStart "inf_resupply"}
				{waypoint "3000"}
			}
			{"inf_resupply:ita"
				{state hidden}
				{text "$/inf_ammo_resupply"}
				{image fiat35_inf}
				{hint "$/inf_ammo_resupply_hint"}
				{count -1}
				{score 0}
				{delay 10}
				{eventStart "inf_resupply"}
				{waypoint "3000"}
			}
			{"inf_resupply:fra"
				{state hidden}
				{text "$/inf_ammo_resupply"}
				{image renault_inf}
				{hint "$/inf_ammo_resupply_hint"}
				{count -1}
				{score 0}
				{delay 10}
				{eventStart "inf_resupply"}
				{waypoint "3000"}
			}
			{"menu_0_player_medic_on"
				{state hidden}
				{text "$/player_medic_on"}
				{image "medic_on"}
				{hint "$/player_medic_on_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0_player_ai_medic_on"}
			}
			{"menu_0_player_medic_off"
				{state hidden}
				{text "$/player_medic_off"}
				{image "medic_off"}
				{hint "$/player_medic_off_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0_player_ai_medic_off"}
			}
			{"menu_0_1000_loan"
				{state hidden}
				{text "$/borrow_mp"}
				{image borrow_mp}
				{hint "$/borrow_mp_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0_loan_out_1000"}
			}
			{"menu_0_repay_1000"
				{state hidden}
				{text "$/repay_mp"}
				{image borrow_mp}
				{hint "$/repay_mp_hint"}
				{count -1}
				{score 700}
				{delay 0}
				{eventStart "menu:0_repay_1000"}
			}
			{"menu_0_ally_units_ita"
				{state hidden}
				{text "$/ally_units"}
				{image ita_skirmish}
				{hint "$/ally_units_hint"}
				{count -1}
				{score 1000}
				{delay 30}
				{eventStart "menu:0_ally_units"}
			}
			{"menu_0_ally_units_eng"
				{state hidden}
				{text "$/ally_units"}
				{image eng_skirmish}
				{hint "$/ally_units_hint"}
				{count -1}
				{score 1000}
				{delay 30}
				{eventStart "menu:0_ally_units"}
			}
			{"menu_0_ally_units_fra"
				{state hidden}
				{text "$/ally_units"}
				{image fra_skirmish}
				{hint "$/ally_units_hint"}
				{count -1}
				{score 1000}
				{delay 30}
				{eventStart "menu:0_ally_units"}
			}
			{"menu_0_ally_units_ger"
				{state hidden}
				{text "$/ally_units"}
				{image ger_skirmish}
				{hint "$/ally_units_hint"}
				{count -1}
				{score 1000}
				{delay 30}
				{eventStart "menu:0_ally_units"}
			}
			{"menu_0_ally_units_hun"
				{state hidden}
				{text "$/ally_units"}
				{image hun_skirmish}
				{hint "$/ally_units_hint"}
				{count -1}
				{score 1000}
				{delay 30}
				{eventStart "menu:0_ally_units"}
			}
			{"menu_0_ally_units_jap"
				{state hidden}
				{text "$/ally_units"}
				{image jap_skirmish}
				{hint "$/ally_units_hint"}
				{count -1}
				{score 1000}
				{delay 30}
				{eventStart "menu:0_ally_units"}
			}
			{"menu_0_ally_units_rus"
				{state hidden}
				{text "$/ally_units"}
				{image rus_skirmish}
				{hint "$/ally_units_hint"}
				{count -1}
				{score 1000}
				{delay 30}
				{eventStart "menu:0_ally_units"}
			}
			{"menu_0_ally_units_usa"
				{state hidden}
				{text "$/ally_units"}
				{image usa_skirmish}
				{hint "$/ally_units_hint"}
				{count -1}
				{score 1000}
				{delay 30}
				{eventStart "menu:0_ally_units"}
			}
			{"menu_0_ai_on"
				{state hidden}
				{text "$/ai_on"}
				{image "ai_on"}
				{hint "$/ai_on_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0_ai_on"}
			}
			{"menu_0_ai_off"
				{state hidden}
				{text "$/ai_off"}
				{image "ai_off"}
				{hint "$/ai_off_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0_ai_off"}
			}
			{"menu_0_flak_ai_on"
				{state hidden}
				{text "$/flak_ai_on"}
				{image "flak_ai_on"}
				{hint "$/flak_ai_on_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0_flak_ai_on"}
			}
			{"menu_0_flak_ai_off"
				{state hidden}
				{text "$/flak_ai_off"}
				{image "flak_ai_off"}
				{hint "$/flak_ai_off_hint"}
				{count -1}
				{score 0}
				{delay 0}
				{eventStart "menu:0_flak_ai_off"}
			}
		}
		{vars
			{"era"}
			{"era_min"}
			{"era_max"}
		}
		{triggers
			{"mod:add/basic/crew_start"
				{condition
					{type 1}
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "0"}
										}
										{prop
											{prop human}
										}
									}
									{exclude
										{tag
											{tag player}
										}
									}
								}
							}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag player}
										}
									}
									{include
										{player
											{player "2"}
										}
										{prop
											{prop human}
										}
										{state
											{state user_control}
										}
									}
								}
							}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{player
										{player "0"}
									}
									{prop
										{prop human}
									}
								}
								{exclude
									{tag
										{tag player}
									}
								}
							}
							{group
								{select
									{tag
										{tag player}
									}
								}
								{include
									{player
										{player "2"}
									}
									{prop
										{prop human}
									}
									{state
										{state user_control}
									}
									{tag
										{tag hidden}
									}
								}
							}
						}
						{tag_add player_ing}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "battle_mod:store"}
							}
							{"ables"
								{selector
									{ignore_captured_by_user 0}
									{tag player_ing}
								}
								{remove personage}
							}
						}
						{"default"
							{"ables"
								{selector
									{ignore_captured_by_user 0}
									{tag player_ing}
								}
								{add personage}
							}
						}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag player_ing}
							{player "0"}
						}
						{tag_add player}
						{tag_remove player_ing}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag player_ing}
							{player "2"}
						}
						{tag_remove player}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag player_ing}
							{player "2"}
						}
						{tag_remove player_ing}
					}
					{"delay"
						{time 1}
					}
					{"trigger"
						{name "mod:add/basic/crew_start"}
					}
				}
			}
			{"mod:add/basic/medic_check"
				{condition
					{expression "(1 | 2) & !3"}
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop human}
										}
										{with_item
											{type amount}
											{item "morphine"}
											{min 1}
										}
									}
									{exclude
										{tag
											{tag medic}
										}
										{state
											{state dead}
										}
									}
								}
							}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop human}
										}
										{tag
											{tag medic}
										}
									}
									{exclude
										{with_item
											{type amount}
											{item "morphine"}
											{min 1}
										}
									}
								}
							}
						}
						{"3.event"
							{id "battle_mod:store"}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{prop
										{prop human}
									}
									{with_item
										{type amount}
										{item "morphine"}
										{min 1}
									}
								}
								{exclude
									{tag
										{tag medic}
									}
									{state
										{state dead}
									}
								}
							}
						}
						{tag_add medic}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{prop
										{prop human}
									}
									{tag
										{tag medic}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "morphine"}
										{min 1}
									}
								}
							}
						}
						{tag_remove medic}
					}
					{"delay"
						{time 1}
					}
					{"trigger"
						{name "mod:add/basic/medic_check"}
					}
				}
			}
			{"mod:add/basic/deadman_check"
				{condition
					{expression "1"}
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop human}
										}
										{state
											{state dead}
										}
									}
									{exclude
										{tag
											{tag humman_del}
										}
									}
								}
							}
						}
					}
				}
				{actions
					{"switch"
						{"case"
							{condition
								{type event}
								{id "battle_mod:store"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag humman_del}
									{type human}
									{state "not dead"}
								}
								{tag_remove humman_del}
							}
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{prop
												{prop human}
											}
											{state
												{state dead}
											}
										}
										{exclude
											{tag
												{tag humman_del}
											}
										}
									}
								}
								{tag_add humman_del}
							}
						}
						{"default"
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{prop
												{prop human}
											}
											{state
												{state dead}
											}
										}
										{exclude
											{tag
												{tag humman_del}
											}
										}
									}
								}
								{tag_add life_check}
							}
							{"delay"
								{time 60}
							}
							{"ables"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag life_check}
											}
										}
										{include
											{player
												{player "0"}
											}
											{prop
												{prop human}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
								}
								{add select}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag life_check}
									{type human}
									{state dead}
								}
								{tag_add humman_del}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag life_check}
								}
								{tag_remove life_check}
							}
						}
					}
					{"trigger"
						{name "mod:add/basic/deadman_check"}
					}
				}
			}
			{"game/ai/inf_ai/front_inf/check"
				{condition
					{type 1}
					{terms
						{"1.entities"
							{selector
								{ignore_captured_by_user 0}
								{tag ai_front_inf}
							}
						}
						{"2.near"
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "1"}
										}
										{prop
											{prop human}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{state
											{state linked}
										}
										{tag
											{tag hidden}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "0"}
										}
										{state
											{state operatable}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{player
											{player "2"}
										}
										{state
											{state operatable}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
									}
								}
							}
							{distance 90}
						}
						{"3.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{cover
											{name flag_a01}
										}
										{player
											{player "1"}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{cover
											{name flag_a02}
										}
										{player
											{player "1"}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{cover
											{name flag_a03}
										}
										{player
											{player "1"}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{cover
											{name flag_b01}
										}
										{player
											{player "1"}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{cover
											{name flag_b02}
										}
										{player
											{player "1"}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{cover
											{name flag_b03}
										}
										{player
											{player "1"}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{cover
											{name flag_c01}
										}
										{player
											{player "1"}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{cover
											{name flag_c02}
										}
										{player
											{player "1"}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{cover
											{name flag_c03}
										}
										{player
											{player "1"}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover0}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover1}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover2}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover3}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover4}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover5}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover6}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover7}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover8}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover9}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover10}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover11}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover12}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover13}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover14}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover15}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover16}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover17}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
								{group
									{include
										{prop
											{prop human}
										}
										{cover
											{name cover18}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{player
											{player "0"}
										}
									}
								}
							}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{cover
										{name flag_a01}
									}
									{player
										{player "1"}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{cover
										{name flag_a02}
									}
									{player
										{player "1"}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{cover
										{name flag_a03}
									}
									{player
										{player "1"}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{cover
										{name flag_b01}
									}
									{player
										{player "1"}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{cover
										{name flag_b02}
									}
									{player
										{player "1"}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{cover
										{name flag_b03}
									}
									{player
										{player "1"}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{cover
										{name flag_c01}
									}
									{player
										{player "1"}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{cover
										{name flag_c02}
									}
									{player
										{player "1"}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{cover
										{name flag_c03}
									}
									{player
										{player "1"}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover0}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover1}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover2}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover3}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover4}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover5}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover6}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover7}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover8}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover9}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover10}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover11}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover12}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover13}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover14}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover15}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover16}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover17}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
							{group
								{include
									{prop
										{prop human}
									}
									{cover
										{name cover18}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{player
										{player "0"}
									}
								}
							}
						}
						{tag_add def_check}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag def}
									}
								}
								{exclude
									{tag
										{tag def_check}
									}
								}
							}
						}
						{tag_remove def}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag def_check}
						}
						{tag_add def}
					}
					{"if"
						{condition
							{type near}
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "1"}
										}
										{prop
											{prop human}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{state
											{state linked}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{state
											{state operatable}
										}
										{relation
											{relation ally}
											{player "0"}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
									}
								}
							}
							{distance 90}
						}
						{"loop" 99
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_front_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag hidden}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{state
													{state operatable}
												}
												{relation
													{relation ally}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
											}
										}
									}
									{distance 90}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_front_inf_check}
												}
												{tag
													{tag hidden}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation ally}
															{player "0"}
														}
														{state
															{state operatable}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_front_inf_check}
								}
							}
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_tank_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag hidden}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
												{relation
													{relation ally}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
											}
										}
									}
									{distance 50}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_tank_inf_check}
												}
												{tag
													{tag hidden}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{prop
															{prop tank}
														}
														{state
															{state inhabited}
														}
														{relation
															{relation ally}
															{player "0"}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_tank_inf_check}
								}
							}
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_tank_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_close_inf_check}
												}
												{tag
													{tag hidden}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{prop
													{prop human}
												}
												{relation
													{relation ally}
													{player "0"}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag hidden}
												}
											}
										}
										{group
											{include
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
												{relation
													{relation ally}
													{player "0"}
												}
											}
											{exclude
												{prop
													{prop tank}
												}
												{tag
													{tag hidden}
												}
											}
										}
									}
									{distance 50}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_tank_inf_check}
												}
												{tag
													{tag ai_close_inf_check}
												}
												{tag
													{tag hidden}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{state
															{state inhabited}
														}
														{prop
															{prop vehicle}
														}
														{relation
															{relation ally}
															{player "0"}
														}
													}
													{exclude
														{prop
															{prop tank}
														}
													}
												}
												{group
													{include
														{prop
															{prop human}
														}
														{relation
															{relation ally}
															{player "0"}
														}
													}
													{exclude
														{state
															{state dead}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_close_inf_check}
								}
							}
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_danger_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag hidden}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{state
													{state inhabited}
												}
												{relation
													{relation ally}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
											}
										}
									}
									{distance 80}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_danger_inf_check}
												}
												{tag
													{tag hidden}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag ztgun}
														}
													}
													{include
														{state
															{state inhabited}
														}
														{relation
															{relation ally}
															{player "0"}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{tag
															{tag gun_brake}
														}
														{tag
															{tag turret_brake}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_danger_inf_check}
								}
							}
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_danger_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag hidden}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag mgun}
												}
											}
											{include
												{state
													{state operatable}
												}
												{relation
													{relation ally}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{state
													{state dead}
												}
											}
										}
									}
									{distance 50}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_danger_inf_check}
												}
												{tag
													{tag hidden}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag mgun}
														}
													}
													{include
														{state
															{state operatable}
														}
														{relation
															{relation ally}
															{player "0"}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{state
															{state dead}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_danger_inf_check}
								}
							}
						}
					}
					{"if"
						{condition
							{type near}
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "2"}
										}
										{prop
											{prop human}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{state
											{state linked}
										}
										{state
											{state user_control}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{state
											{state operatable}
										}
										{relation
											{relation enemy}
											{player "0"}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
									}
								}
							}
							{distance 90}
						}
						{"loop" 99
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_front_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{state
													{state operatable}
												}
												{relation
													{relation enemy}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
											}
										}
									}
									{distance 90}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_front_inf_check}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation enemy}
															{player "0"}
														}
														{state
															{state operatable}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_front_inf_check}
								}
							}
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_tank_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
												{relation
													{relation enemy}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
											}
										}
									}
									{distance 50}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_tank_inf_check}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{prop
															{prop tank}
														}
														{state
															{state inhabited}
														}
														{relation
															{relation enemy}
															{player "0"}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_tank_inf_check}
								}
							}
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_tank_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_close_inf_check}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{prop
													{prop human}
												}
												{relation
													{relation enemy}
													{player "0"}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag hidden}
												}
											}
										}
										{group
											{include
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
												{relation
													{relation enemy}
													{player "0"}
												}
											}
											{exclude
												{prop
													{prop tank}
												}
												{tag
													{tag hidden}
												}
											}
										}
									}
									{distance 50}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_tank_inf_check}
												}
												{tag
													{tag ai_close_inf_check}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{state
															{state inhabited}
														}
														{prop
															{prop vehicle}
														}
														{relation
															{relation enemy}
															{player "0"}
														}
													}
													{exclude
														{prop
															{prop tank}
														}
													}
												}
												{group
													{include
														{prop
															{prop human}
														}
														{relation
															{relation enemy}
															{player "0"}
														}
													}
													{exclude
														{state
															{state dead}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_close_inf_check}
								}
							}
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_danger_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{state
													{state inhabited}
												}
												{relation
													{relation enemy}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
											}
										}
									}
									{distance 80}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_danger_inf_check}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag ztgun}
														}
													}
													{include
														{state
															{state inhabited}
														}
														{relation
															{relation enemy}
															{player "0"}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{tag
															{tag gun_brake}
														}
														{tag
															{tag turret_brake}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_danger_inf_check}
								}
							}
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag ai_danger_inf_check}
												}
												{state
													{state linked}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag mgun}
												}
											}
											{include
												{state
													{state operatable}
												}
												{relation
													{relation enemy}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{state
													{state dead}
												}
											}
										}
									}
									{distance 50}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{state
													{state linked}
												}
												{tag
													{tag ai_danger_inf_check}
												}
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag mgun}
														}
													}
													{include
														{state
															{state operatable}
														}
														{relation
															{relation enemy}
															{player "0"}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{state
															{state dead}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ai_danger_inf_check}
								}
							}
						}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "battle:none"}
							}
						}
						{"default"
							{"actor_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag ai_front_inf_check}
											}
										}
										{exclude
											{tag
												{tag def}
											}
											{tag
												{tag ai_tank_inf}
											}
											{tag
												{tag ai_close_inf}
											}
											{tag
												{tag saver}
											}
											{tag
												{tag enemy_saver}
											}
										}
									}
									{group
										{select
											{tag
												{tag saver}
											}
										}
										{include
											{tag
												{tag ai_danger_inf}
											}
										}
									}
									{group
										{select
											{tag
												{tag enemy_saver}
											}
										}
										{include
											{tag
												{tag ai_danger_inf}
											}
										}
									}
								}
								{drop orders}
								{weapon_prepare on}
								{movement
									{speed normal}
									{type squat}
								}
							}
						}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag ai_front_inf_check}
						}
						{tag_add ai_front_inf}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag ai_front_inf}
									}
								}
								{exclude
									{tag
										{tag ai_front_inf_check}
									}
								}
							}
						}
						{tag_remove ai_front_inf}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag ai_tank_inf_check}
						}
						{tag_add ai_tank_inf}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag ai_tank_inf}
									}
								}
								{exclude
									{tag
										{tag ai_tank_inf_check}
									}
								}
							}
						}
						{tag_remove ai_tank_inf}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag ai_close_inf_check}
						}
						{tag_add ai_close_inf}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag ai_close_inf}
									}
								}
								{exclude
									{tag
										{tag ai_close_inf_check}
									}
								}
							}
						}
						{tag_remove ai_close_inf}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag ai_danger_inf}
									}
								}
								{exclude
									{tag
										{tag ai_danger_inf_check}
									}
								}
							}
						}
						{tag_remove ai_danger_inf}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag ai_danger_inf_check}
						}
						{tag_add ai_danger_inf}
						{tag_remove ai_danger_inf_check}
					}
					{"if"
						{condition
							{type near}
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "1"}
										}
										{prop
											{prop human}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{state
											{state linked}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{state
											{state operatable}
										}
										{relation
											{relation ally}
											{player "0"}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
									}
								}
							}
							{distance 90}
						}
						{"loop" 99
							{"if"
								{condition
									{type entities}
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag ai_tank_inf}
												}
											}
											{include
												{player
													{player "1"}
												}
												{tag
													{tag rpg}
												}
											}
											{exclude
												{state
													{state dead}
												}
											}
										}
										{group
											{select
												{tag
													{tag ai_tank_inf}
												}
											}
											{include
												{player
													{player "1"}
												}
												{with_item
													{type amount}
													{item "grenade" "ap"}
													{min 1}
												}
											}
											{exclude
												{state
													{state dead}
												}
											}
										}
										{group
											{select
												{tag
													{tag ai_close_inf}
												}
											}
											{include
												{player
													{player "1"}
												}
												{with_item
													{type amount}
													{item "grenade" "fg"}
													{min 1}
												}
											}
											{exclude
												{state
													{state dead}
												}
											}
										}
									}
								}
								{"switch"
									{"case"
										{condition
											{type see_actors}
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag ai_tank_inf}
														}
													}
													{include
														{tag
															{tag rpg}
														}
														{player
															{player "1"}
														}
													}
													{exclude
														{state
															{state dead}
														}
														{tag
															{tag ai_tank_inf_checked}
														}
													}
												}
											}
											{enemy
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation ally}
															{player "0"}
														}
														{prop
															{prop tank}
														}
														{state
															{state inhabited}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
											{distance
												{mode near_than}
												{meters 50}
											}
											{tag
												{"tag pair"}
												{"for selector" ai_tank_inf_checking}
												{"for enemy" ai_tank_inf_target}
											}
										}
										{"action"
											{selector
												{ignore_captured_by_user 0}
												{tag ai_tank_inf_checking}
											}
											{drop orders}
											{action attack}
											{target
												{ignore_captured_by_user 0}
												{tag ai_tank_inf_target}
											}
											{volume body}
										}
									}
									{"case"
										{condition
											{type see_actors}
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag ai_tank_inf}
														}
													}
													{include
														{player
															{player "1"}
														}
														{with_item
															{type amount}
															{item "grenade" "ap"}
															{min 1}
														}
													}
													{exclude
														{state
															{state dead}
														}
														{tag
															{tag ai_tank_inf_checked}
														}
													}
												}
											}
											{enemy
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation ally}
															{player "0"}
														}
														{prop
															{prop tank}
														}
														{state
															{state inhabited}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
											{distance
												{mode near_than}
												{meters 30}
											}
											{tag
												{"tag pair"}
												{"for selector" ai_tank_inf_checking}
												{"for enemy" ai_tank_inf_target}
											}
										}
										{"action"
											{selector
												{ignore_captured_by_user 0}
												{tag ai_tank_inf_checking}
											}
											{drop orders}
											{action attack}
											{target
												{ignore_captured_by_user 0}
												{tag ai_tank_inf_target}
											}
											{volume engine}
										}
									}
									{"case"
										{condition
											{type see_actors}
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag ai_close_inf}
														}
													}
													{include
														{player
															{player "1"}
														}
														{with_item
															{type amount}
															{item "grenade" "fg"}
															{min 1}
														}
													}
													{exclude
														{state
															{state dead}
														}
														{tag
															{tag ai_tank_inf_checked}
														}
													}
												}
											}
											{enemy
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation ally}
															{player "0"}
														}
														{prop
															{prop vehicle}
														}
														{state
															{state inhabited}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{prop
															{prop tank}
														}
													}
												}
											}
											{distance
												{mode near_than}
												{meters 30}
											}
											{tag
												{"tag pair"}
												{"for selector" ai_tank_inf_checking}
												{"for enemy" ai_tank_inf_target}
											}
										}
										{"action"
											{selector
												{ignore_captured_by_user 0}
												{tag ai_tank_inf_checking}
											}
											{drop orders}
											{action attack}
											{target
												{ignore_captured_by_user 0}
												{tag ai_tank_inf_target}
											}
											{volume body}
										}
									}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag ai_tank_inf_checking}
									}
									{tag_add ai_tank_inf_checked}
									{tag_remove ai_tank_inf_checking}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag ai_tank_inf_target}
									}
									{tag_remove ai_tank_inf_target}
								}
							}
						}
						{"actor_state"
							{selector
								{ignore_captured_by_user 0}
								{tag ai_tank_inf_checked}
							}
							{fire_mode open}
							{movement
								{speed assault}
							}
						}
						{"entity_state"
							{selector
								{ignore_captured_by_user 0}
								{tag ai_tank_inf_checked}
							}
							{tag_remove ai_tank_inf_checked}
						}
					}
					{"delay"
						{time 1}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag ai_front_inf_check}
						}
						{tag_remove ai_front_inf_check}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag ai_tank_inf_check}
						}
						{tag_remove ai_tank_inf_check}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag ai_close_inf_check}
						}
						{tag_remove ai_close_inf_check}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag def_check}
						}
						{tag_remove def_check}
					}
					{"trigger"
						{name "game/ai/inf_ai/front_inf/check"}
					}
				}
			}
			{"game/ai/veh_ai/mgun_cannon_check"
				{condition
					{type 1}
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag cannon}
										}
									}
									{include
										{with_item
											{type using}
											{item "mgun" "weapon"}
										}
									}
									{exclude
										{tag
											{tag mgun_cannon}
										}
									}
								}
							}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag mgun_cannon}
										}
									}
									{exclude
										{with_item
											{type using}
											{item "mgun" "weapon"}
										}
									}
								}
							}
						}
						{"3.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag mgun_cannon_check}
										}
									}
									{include
										{with_item
											{type using}
											{item "mgun" "weapon"}
										}
									}
								}
							}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag cannon}
									}
								}
								{include
									{with_item
										{type using}
										{item "mgun" "weapon"}
									}
								}
								{exclude
									{tag
										{tag mgun_cannon}
									}
								}
							}
						}
						{tag_add mgun_cannon}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag mgun_cannon}
									}
								}
								{exclude
									{with_item
										{type using}
										{item "mgun" "weapon"}
									}
								}
							}
						}
						{tag_add unarmed}
						{tag_remove cannon}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag mgun_cannon}
									}
								}
								{exclude
									{with_item
										{type using}
										{item "mgun" "weapon"}
									}
									{tag
										{tag cannon}
									}
								}
							}
						}
						{tag_add mgun_cannon_check}
						{tag_remove mgun_cannon}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag mgun_cannon_check}
									}
								}
								{include
									{with_item
										{type using}
										{item "mgun" "weapon"}
									}
								}
							}
						}
						{tag_add cannon}
						{tag_remove unarmed}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag mgun_cannon_check}
									}
								}
								{include
									{with_item
										{type using}
										{item "mgun" "weapon"}
									}
									{tag
										{tag cannon}
									}
								}
							}
						}
						{tag_add mgun_cannon}
						{tag_remove mgun_cannon_check}
					}
					{"trigger"
						{name "game/ai/veh_ai/mgun_cannon_check"}
					}
				}
			}
			{"game/ai/medic/enemy_side"
				{condition
					{expression "1 & !2 & !3 & !4"}
					{terms
						{"1.near"
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag medic}
										}
									}
									{include
										{player
											{player "1"}
										}
										{prop
											{prop human}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{tag
											{tag ai_danger_inf}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "1"}
										}
										{prop
											{prop human}
										}
										{state
											{state dead}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag humman_del}
										}
									}
								}
							}
							{distance 35}
						}
						{"2.difficulty"
							{level easy}
						}
						{"3.difficulty"
							{level normal}
						}
						{"4.event"
							{id "battle_mod:store"}
						}
					}
				}
				{actions
					{"loop" 9
						{"if"
							{condition
								{type near}
								{units
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag medic}
											}
										}
										{include
											{player
												{player "1"}
											}
											{prop
												{prop human}
											}
										}
										{exclude
											{state
												{state dead}
											}
											{tag
												{tag hidden}
											}
											{tag
												{tag enemy_saver}
											}
											{tag
												{tag ai_danger_inf}
											}
										}
									}
								}
								{near_to
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{player
												{player "1"}
											}
											{prop
												{prop human}
											}
											{state
												{state dead}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{tag
												{tag humman_del}
											}
											{tag
												{tag enemy_to_be_saved}
											}
										}
									}
								}
								{distance 35}
							}
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag medic}
											}
										}
										{include
											{player
												{player "1"}
											}
											{prop
												{prop human}
											}
										}
										{exclude
											{state
												{state dead}
											}
											{tag
												{tag hidden}
											}
											{tag
												{tag enemy_saver}
											}
											{tag
												{tag ai_danger_inf}
											}
										}
									}
									{sort
										{type entity}
										{entity
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{include
													{player
														{player "1"}
													}
													{prop
														{prop human}
													}
													{state
														{state dead}
													}
												}
												{exclude
													{tag
														{tag hidden}
													}
													{tag
														{tag humman_del}
													}
													{tag
														{tag enemy_to_be_saved}
													}
												}
											}
										}
									}
									{amount 1
									}
								}
								{tag_add enemy_saver_ing}
							}
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{player
												{player "1"}
											}
											{prop
												{prop human}
											}
											{state
												{state dead}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{tag
												{tag humman_del}
											}
											{tag
												{tag enemy_to_be_saved}
											}
										}
									}
									{sort
										{type entity}
										{entity
											{ignore_captured_by_user 0}
											{tag enemy_saver_ing}
										}
									}
									{amount 1
									}
								}
								{tag_add enemy_to_be_saving}
							}
							{"if"
								{condition
									{type near}
									{units
										{ignore_captured_by_user 0}
										{tag enemy_to_be_saving}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag morphine}
												}
											}
										}
										{group
											{include
												{player
													{player "1"}
												}
												{prop
													{prop human}
												}
												{state
													{state dead}
												}
												{with_item
													{type amount}
													{item "morphine"}
													{min 1}
												}
											}
										}
									}
									{distance 15}
								}
								{"if"
									{condition
										{type near}
										{units
											{ignore_captured_by_user 0}
											{tag enemy_to_be_saving}
										}
										{near_to
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{include
													{prop
														{prop human}
													}
													{relation
														{relation ally}
														{player "0"}
													}
												}
												{exclude
													{state
														{state dead}
													}
													{tag
														{tag hidden}
													}
												}
											}
											{group
												{include
													{prop
														{prop vehicle}
													}
													{state
														{state inhabited}
													}
													{relation
														{relation ally}
														{player "0"}
													}
												}
												{exclude
													{tag
														{tag hidden}
													}
												}
											}
										}
										{distance 30}
									}
									{"entity_state"
										{selector
											{ignore_captured_by_user 0}
											{tag enemy_saver_ing}
										}
										{tag_remove enemy_saver_ing}
									}
									{"entity_state"
										{selector
											{ignore_captured_by_user 0}
											{tag enemy_to_be_saving}
										}
										{tag_add enemy_to_be_saved}
										{tag_remove enemy_to_be_saving}
									}
								}
							}
							{"action"
								{selector
									{ignore_captured_by_user 0}
									{tag enemy_saver_ing}
								}
								{drop orders}
								{action injection}
								{target
									{ignore_captured_by_user 0}
									{tag enemy_to_be_saving}
								}
							}
							{"actor_state"
								{selector
									{ignore_captured_by_user 0}
									{tag enemy_saver_ing}
								}
								{movement
									{speed fast}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag enemy_saver_ing}
								}
								{tag_add enemy_saver}
								{tag_remove enemy_saver_ing}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag enemy_to_be_saving}
								}
								{tag_add enemy_to_be_saved}
								{tag_remove enemy_to_be_saving}
							}
						}
					}
					{"delay"
						{time 3}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag enemy_saver}
						}
						{tag_remove enemy_saver}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag enemy_to_be_saved}
						}
						{tag_add saved}
						{tag_remove enemy_to_be_saved}
					}
					{"trigger"
						{name "game/ai/medic/enemy_side"}
					}
				}
			}
			{"game/ai/medic/player_side"
				{condition
					{expression "(1 | 2) & !3"}
					{terms
						{"1.near"
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag medic}
										}
									}
									{include
										{player
											{player "0"}
										}
										{prop
											{prop human}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "0"}
										}
										{prop
											{prop human}
										}
										{state
											{state dead}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag humman_del}
										}
									}
								}
							}
							{distance 35}
						}
						{"2.near"
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag medic}
										}
									}
									{include
										{player
											{player "2"}
										}
										{prop
											{prop human}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{tag
											{tag ai_danger_inf}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "0"}
										}
										{prop
											{prop human}
										}
										{state
											{state dead}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag humman_del}
										}
									}
								}
								{group
									{include
										{player
											{player "2"}
										}
										{prop
											{prop human}
										}
										{state
											{state dead}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag humman_del}
										}
									}
								}
							}
							{distance 35}
						}
						{"3.event"
							{id "battle_mod:store"}
						}
					}
				}
				{actions
					{"loop" 9
						{"if"
							{condition
								{type event}
								{id "menu:0_player_ai_medic_on"}
							}
							{"if"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag medic}
												}
											}
											{include
												{player
													{player "0"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag saver}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "0"}
												}
												{prop
													{prop human}
												}
												{state
													{state dead}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag humman_del}
												}
												{tag
													{tag to_be_saved}
												}
											}
										}
									}
									{distance 35}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag medic}
												}
											}
											{include
												{player
													{player "0"}
												}
												{prop
													{prop human}
												}
											}
											{exclude
												{state
													{state dead}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag saver}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{player
															{player "0"}
														}
														{prop
															{prop human}
														}
														{state
															{state dead}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{tag
															{tag humman_del}
														}
														{tag
															{tag to_be_saved}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add saver_ing}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{player
													{player "0"}
												}
												{prop
													{prop human}
												}
												{state
													{state dead}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag humman_del}
												}
												{tag
													{tag to_be_saved}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{ignore_captured_by_user 0}
												{tag saver_ing}
											}
										}
										{amount 1
										}
									}
									{tag_add to_be_saving}
								}
								{"if"
									{condition
										{type near}
										{units
											{ignore_captured_by_user 0}
											{tag to_be_saving}
										}
										{near_to
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag morphine}
													}
												}
											}
											{group
												{include
													{player
														{player "0"}
													}
													{prop
														{prop human}
													}
													{state
														{state dead}
													}
													{with_item
														{type amount}
														{item "morphine"}
														{min 1}
													}
												}
											}
											{group
												{include
													{player
														{player "2"}
													}
													{prop
														{prop human}
													}
													{state
														{state dead}
													}
													{with_item
														{type amount}
														{item "morphine"}
														{min 1}
													}
												}
											}
										}
										{distance 15}
									}
									{"if"
										{condition
											{type near}
											{units
												{ignore_captured_by_user 0}
												{tag to_be_saving}
											}
											{near_to
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{prop
															{prop human}
														}
														{relation
															{relation enemy}
															{player "0"}
														}
													}
													{exclude
														{state
															{state dead}
														}
														{tag
															{tag hidden}
														}
													}
												}
												{group
													{include
														{prop
															{prop vehicle}
														}
														{state
															{state inhabited}
														}
														{relation
															{relation enemy}
															{player "0"}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
											{distance 30}
										}
										{"entity_state"
											{selector
												{ignore_captured_by_user 0}
												{tag saver_ing}
											}
											{tag_remove saver_ing}
										}
										{"entity_state"
											{selector
												{ignore_captured_by_user 0}
												{tag to_be_saving}
											}
											{tag_add to_be_saved}
											{tag_remove to_be_saving}
										}
									}
								}
								{"action"
									{selector
										{ignore_captured_by_user 0}
										{tag saver_ing}
									}
									{drop orders}
									{action injection}
									{target
										{ignore_captured_by_user 0}
										{tag to_be_saving}
									}
								}
								{"actor_state"
									{selector
										{ignore_captured_by_user 0}
										{tag saver_ing}
									}
									{movement
										{speed fast}
									}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag saver_ing}
									}
									{tag_add saver}
									{tag_remove saver_ing}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag to_be_saving}
									}
									{tag_add to_be_saved}
									{tag_remove to_be_saving}
								}
							}
						}
						{"if"
							{condition
								{type near}
								{units
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag medic}
											}
										}
										{include
											{player
												{player "2"}
											}
											{prop
												{prop human}
											}
										}
										{exclude
											{state
												{state dead}
											}
											{tag
												{tag hidden}
											}
											{tag
												{tag saver}
											}
											{tag
												{tag ai_danger_inf}
											}
										}
									}
								}
								{near_to
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{player
												{player "0"}
											}
											{prop
												{prop human}
											}
											{state
												{state dead}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{tag
												{tag humman_del}
											}
											{tag
												{tag to_be_saved}
											}
										}
									}
									{group
										{include
											{player
												{player "2"}
											}
											{prop
												{prop human}
											}
											{state
												{state dead}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{tag
												{tag humman_del}
											}
											{tag
												{tag to_be_saved}
											}
										}
									}
								}
								{distance 35}
							}
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag medic}
											}
										}
										{include
											{player
												{player "2"}
											}
											{prop
												{prop human}
											}
										}
										{exclude
											{state
												{state dead}
											}
											{tag
												{tag hidden}
											}
											{tag
												{tag saver}
											}
											{tag
												{tag ai_danger_inf}
											}
										}
									}
									{sort
										{type entity}
										{entity
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{include
													{player
														{player "0"}
													}
													{prop
														{prop human}
													}
													{state
														{state dead}
													}
												}
												{exclude
													{tag
														{tag hidden}
													}
													{tag
														{tag humman_del}
													}
													{tag
														{tag to_be_saved}
													}
												}
											}
											{group
												{include
													{player
														{player "2"}
													}
													{prop
														{prop human}
													}
													{state
														{state dead}
													}
												}
												{exclude
													{tag
														{tag hidden}
													}
													{tag
														{tag humman_del}
													}
													{tag
														{tag to_be_saved}
													}
												}
											}
										}
									}
									{amount 1
									}
								}
								{tag_add saver_ing}
							}
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{player
												{player "0"}
											}
											{prop
												{prop human}
											}
											{state
												{state dead}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{tag
												{tag humman_del}
											}
											{tag
												{tag to_be_saved}
											}
										}
									}
									{group
										{include
											{player
												{player "2"}
											}
											{prop
												{prop human}
											}
											{state
												{state dead}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{tag
												{tag humman_del}
											}
											{tag
												{tag to_be_saved}
											}
										}
									}
									{sort
										{type entity}
										{entity
											{ignore_captured_by_user 0}
											{tag saver_ing}
										}
									}
									{amount 1
									}
								}
								{tag_add to_be_saving}
							}
							{"if"
								{condition
									{type near}
									{units
										{ignore_captured_by_user 0}
										{tag to_be_saving}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag morphine}
												}
											}
										}
										{group
											{include
												{player
													{player "2"}
												}
												{prop
													{prop human}
												}
												{state
													{state dead}
												}
												{with_item
													{type amount}
													{item "morphine"}
													{min 1}
												}
											}
										}
									}
									{distance 15}
								}
								{"if"
									{condition
										{type near}
										{units
											{ignore_captured_by_user 0}
											{tag to_be_saving}
										}
										{near_to
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{include
													{prop
														{prop human}
													}
													{relation
														{relation enemy}
														{player "0"}
													}
												}
												{exclude
													{state
														{state dead}
													}
													{tag
														{tag hidden}
													}
												}
											}
											{group
												{include
													{prop
														{prop vehicle}
													}
													{state
														{state inhabited}
													}
													{relation
														{relation enemy}
														{player "0"}
													}
												}
												{exclude
													{tag
														{tag hidden}
													}
												}
											}
										}
										{distance 30}
									}
									{"entity_state"
										{selector
											{ignore_captured_by_user 0}
											{tag saver_ing}
										}
										{tag_remove saver_ing}
									}
									{"entity_state"
										{selector
											{ignore_captured_by_user 0}
											{tag to_be_saving}
										}
										{tag_add to_be_saved}
										{tag_remove to_be_saving}
									}
								}
							}
							{"action"
								{selector
									{ignore_captured_by_user 0}
									{tag saver_ing}
								}
								{drop orders}
								{action injection}
								{target
									{ignore_captured_by_user 0}
									{tag to_be_saving}
								}
							}
							{"actor_state"
								{selector
									{ignore_captured_by_user 0}
									{tag saver_ing}
								}
								{movement
									{speed fast}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag saver_ing}
								}
								{tag_add saver}
								{tag_remove saver_ing}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag to_be_saving}
								}
								{tag_add to_be_saved}
								{tag_remove to_be_saving}
							}
						}
					}
					{"delay"
						{time 3}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag saver}
						}
						{tag_remove saver}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag to_be_saved}
						}
						{tag_add saved}
						{tag_remove to_be_saved}
					}
					{"trigger"
						{name "game/ai/medic/player_side"}
					}
				}
			}
			{"mod:add/basic/start"
				{condition
				}
				{actions
					{"event"
						{event "menu:0_player_ai_medic_on"}
						{mode set}
						{delay 0}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{player
										{player "3"}
									}
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{tag
										{tag hidden}
									}
									{state
										{state user_control}
									}
									{state
										{state inhabited}
									}
								}
							}
							{group
								{include
									{player
										{player "0"}
									}
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{tag
										{tag hidden}
									}
									{state
										{state inhabited}
									}
									{state
										{state user_control}
									}
								}
							}
							{group
								{include
									{prop
										{prop vehicle}
									}
									{state
										{state dead}
									}
								}
							}
						}
						{tag_add not_cannon}
					}
					{"ables"
						{selector
							{ignore_captured_by_user 0}
							{player "2"}
							{type human}
							{state "not dead"}
						}
						{add personage}
					}
					{"ables"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{state
										{state inhabited}
									}
									{tag
										{tag destroyed}
									}
								}
							}
						}
						{add "ally_crew repaired talk select unmask minimap emit_passangers_on_enemy"}
					}
					{"switch"
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag enemy_armor_08}
								}
							}
							{"event"
								{event "battle:stand"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{player
												{player "1"}
											}
											{prop
												{prop tank}
											}
											{state
												{state inhabited}
											}
										}
										{exclude
											{tag
												{tag eng}
											}
											{tag
												{tag ger}
											}
											{tag
												{tag jap}
											}
											{tag
												{tag rus}
											}
											{tag
												{tag usa}
											}
											{tag
												{tag hun}
											}
											{tag
												{tag ita}
											}
											{tag
												{tag fra}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{player
												{player "0"}
											}
											{prop
												{prop tank}
											}
											{state
												{state inhabited}
											}
										}
									}
								}
								{count
									{op "=="}
									{value 0}
								}
							}
							{"event"
								{event "battle:stand"}
								{mode set}
								{delay 0}
							}
							{"event"
								{event "battle:new_skirmish"}
								{mode set}
								{delay 0}
							}
							{"if"
								{condition
									{type entities}
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag player_flag}
												}
											}
										}
									}
									{count
										{op "<<="}
										{value 10}
									}
								}
								{"set_i"
									{var "enemy_tank$"}
									{op "="}
									{value 50}
								}
							}
							{"event"
								{event "battle_mod:light_veh"}
								{mode set}
								{delay 0}
							}
						}
						{"default"
							{"event"
								{event "enemy:un_xcount"}
								{mode set}
								{delay 0}
							}
							{"switch"
								{"case"
									{condition
										{type entities}
										{selector
											{ignore_captured_by_user 0}
											{tag captured}
										}
										{count
											{op ">="}
											{value 2}
										}
									}
									{"event"
										{event "battle:def"}
										{mode set}
										{delay 0}
									}
									{"set_i"
										{var "era$"}
										{op "="}
										{value 194450}
									}
								}
								{"case"
									{condition
										{type entities}
										{selector
											{ignore_captured_by_user 0}
											{tag player_armor_03}
										}
									}
									{"event"
										{event "battle:tank"}
										{mode set}
										{delay 0}
									}
									{"set_i"
										{var "era$"}
										{op "="}
										{value 194450}
									}
								}
								{"default"
									{"event"
										{event "battle:none"}
										{mode set}
										{delay 0}
									}
									{"set_i"
										{var "era$"}
										{op "="}
										{value 194100}
									}
									{"if"
										{condition
											{type entities}
											{selector
												{ignore_captured_by_user 0}
												{tag player_armor_01}
											}
											{count
												{op "=="}
												{value 0}
											}
										}
										{"event"
											{event "battle:special"}
											{mode set}
											{delay 0}
										}
									}
								}
							}
						}
					}
					{"reinforcement"
						{operation hide}
						{name player_flag}
					}
					{"reinforcement"
						{operation score_total}
						{score 10000}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag hidden}
									}
								}
								{include
									{player
										{player "0"}
									}
									{prop
										{prop vehicle}
									}
								}
							}
							{group
								{include
									{player
										{player "0"}
									}
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{include
									{player
										{player "2"}
									}
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{select
									{tag
										{tag hidden}
									}
								}
								{include
									{player
										{player "2"}
									}
									{prop
										{prop vehicle}
									}
								}
							}
						}
						{tag_add not_for_spawn}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "battle:new_skirmish"}
							}
							{"delay"
								{time 1}
							}
						}
						{"default"
							{"set_i"
								{var "era_min$"}
								{op "="}
								{value 194100}
							}
							{"set_i"
								{var "era_max$"}
								{op "="}
								{value 194500}
							}
							{"delay"
								{time 5}
							}
						}
					}
					{"talk"
						{selector
							{ignore_captured_by_user 0}
							{tag hinter}
						}
						{text "$/mod_hint"}
						{clear_queue}
					}
					{"timer"
						{time 5}
						{title "$/customizable_skirmish"}
					}
					{"delay"
						{time 4}
					}
					{"if"
						{condition
							{type entities}
							{selector
								{ignore_captured_by_user 0}
								{tag enemy_armor_01}
							}
						}
						{"talk"
							{selector
								{ignore_captured_by_user 0}
								{tag hinter}
							}
							{text "$/mod_hint"}
							{clear_queue}
						}
						{"delay"
							{time 3}
						}
					}
					{"timer"
						{time 0}
						{title ""}
					}
					{"switch"
						{"case"
							{"if"
								{condition
									{type event}
									{id "battle:new_skirmish"}
								}
								{"reinforcement"
									{operation score_add}
									{score 2000}
								}
							}
							{"if"
								{condition
									{type event}
									{id "battle:special"}
								}
								{"reinforcement"
									{operation score_add}
									{score 2000}
								}
							}
						}
						{"default"
							{"event"
								{event "good_to_go"}
								{mode set}
								{delay 0}
							}
						}
					}
					{"event"
						{event "menu:yes"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "menu:no"}
						{mode reset}
						{delay 0}
					}
					{"delay"
						{time 0.01}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "battle:special"}
							}
							{"event"
								{event "players:menu_end"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "battle:new_skirmish"}
							}
							{"event"
								{event "good_to_go"}
								{mode set}
								{delay 0}
							}
						}
						{"default"
							{"event"
								{event "players:menu_start"}
								{mode set}
								{delay 0}
							}
							{"event"
								{event "good_to_go"}
								{mode set}
								{delay 0}
							}
							{"timer"
								{time 10}
								{title default}
							}
						}
					}
				}
			}
			{"mod:add/menu:0/hide"
				{condition
					{expression "1 | 2 | 3 | (4 & !6) | 5 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15"}
					{terms
						{"1.event"
							{id "menu_1"}
						}
						{"2.event"
							{id "menu_2"}
						}
						{"3.event"
							{id "menu_3"}
						}
						{"4.event"
							{id "menu_4"}
						}
						{"5.event"
							{id "menu_back"}
						}
						{"6.event"
							{id "player:set"}
						}
						{"7.event"
							{id "menu:armor"}
						}
						{"8.event"
							{id "menu:back"}
						}
						{"9.event"
							{id "menu:btr"}
						}
						{"10.event"
							{id "menu:heavy"}
						}
						{"11.event"
							{id "menu:hero"}
						}
						{"12.event"
							{id "menu:inf"}
						}
						{"13.event"
							{id "menu:spg"}
						}
						{"14.event"
							{id "menu:support"}
						}
						{"15.event"
							{id "battle_mod:fps_tank"}
						}
					}
				}
				{actions
					{"reinforcement"
						{operation hide}
						{name "menu:0:ger"}
					}
					{"reinforcement"
						{operation hide}
						{name "menu:0:rus"}
					}
					{"reinforcement"
						{operation hide}
						{name "menu:0:eng"}
					}
					{"reinforcement"
						{operation hide}
						{name "menu:0:usa"}
					}
					{"reinforcement"
						{operation hide}
						{name "menu:0:hun"}
					}
					{"reinforcement"
						{operation hide}
						{name "menu:0:ita"}
					}
					{"reinforcement"
						{operation hide}
						{name "menu:0:jap"}
					}
					{"reinforcement"
						{operation hide}
						{name "menu:0:hun"}
					}
					{"reinforcement"
						{operation hide}
						{name "menu:0:ita"}
					}
					{"reinforcement"
						{operation hide}
						{name "menu:0:fra"}
					}
					{"event"
						{event "menu:0"}
						{mode reset}
						{delay 0}
					}
					{"trigger"
						{name "mod:add/menu:0/show"}
					}
				}
			}
			{"mod:add/menu:0/show"
				{condition
					{expression "!1 & !2 & !3 & ( (!4 & !6) | 6 ) & !7  & !9  & !10  & !11  & !12  & !13  & !14 & !5"}
					{terms
						{"1.event"
							{id "menu_1"}
						}
						{"2.event"
							{id "menu_2"}
						}
						{"3.event"
							{id "menu_3"}
						}
						{"4.event"
							{id "menu_4"}
						}
						{"6.event"
							{id "player:set"}
						}
						{"7.event"
							{id "menu:armor"}
						}
						{"9.event"
							{id "menu:btr"}
						}
						{"10.event"
							{id "menu:heavy"}
						}
						{"11.event"
							{id "menu:hero"}
						}
						{"12.event"
							{id "menu:inf"}
						}
						{"13.event"
							{id "menu:spg"}
						}
						{"14.event"
							{id "menu:support"}
						}
						{"5.event"
							{id "battle_mod:fps_tank"}
						}
					}
				}
				{actions
					{"switch"
						{"case"
							{condition
								{type event}
								{id "player:ger"}
							}
							{"reinforcement"
								{operation show}
								{name "menu:0:ger"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:rus"}
							}
							{"reinforcement"
								{operation show}
								{name "menu:0:rus"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:eng"}
							}
							{"reinforcement"
								{operation show}
								{name "menu:0:eng"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:usa"}
							}
							{"reinforcement"
								{operation show}
								{name "menu:0:usa"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:hun"}
							}
							{"reinforcement"
								{operation show}
								{name "menu:0:hun"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:ita"}
							}
							{"reinforcement"
								{operation show}
								{name "menu:0:ita"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:jap"}
							}
							{"reinforcement"
								{operation show}
								{name "menu:0:jap"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:fra"}
							}
							{"reinforcement"
								{operation show}
								{name "menu:0:fra"}
							}
						}
						{"default"
							{"switch"
								{"case"
									{condition
										{type entities}
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "feg_35m"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "feg_43m"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "solothurn_31m"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "danuvia_43m"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "danuvia_39m"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
										}
									}
									{"reinforcement"
										{operation show}
										{name "menu:0:hun"}
									}
								}
								{"case"
									{condition
										{type entities}
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "50pla_cap"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "50pla_cap2"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
										}
									}
									{"reinforcement"
										{operation show}
										{name "menu:0:ita"}
									}
								}
								{"case"
									{condition
										{type entities}
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "mauzer"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "mg42"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "mp40"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
										}
									}
									{"reinforcement"
										{operation show}
										{name "menu:0:ger"}
									}
								}
								{"case"
									{condition
										{type entities}
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "mosin"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "dp"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "ppsh"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
										}
									}
									{"reinforcement"
										{operation show}
										{name "menu:0:rus"}
									}
								}
								{"case"
									{condition
										{type entities}
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "em3"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "bren"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "sten"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
										}
									}
									{"reinforcement"
										{operation show}
										{name "menu:0:eng"}
									}
								}
								{"case"
									{condition
										{type entities}
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "mas36"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "fm_24-29"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "mas38"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
										}
									}
									{"reinforcement"
										{operation show}
										{name "menu:0:fra"}
									}
								}
								{"case"
									{condition
										{type entities}
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "garand"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "bar"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "thompson"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
										}
									}
									{"reinforcement"
										{operation show}
										{name "menu:0:usa"}
									}
								}
								{"case"
									{condition
										{type entities}
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "type99rifle"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "type99lmg"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop human}
													}
													{state
														{state user_control}
													}
													{with_item
														{type amount}
														{item "type100smg"}
														{min 1}
													}
												}
												{exclude
													{state
														{state dead}
													}
												}
											}
										}
									}
									{"reinforcement"
										{operation show}
										{name "menu:0:jap"}
									}
								}
								{"default"
									{"reinforcement"
										{operation show}
										{name "menu:0:ger"}
									}
								}
							}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/hide"}
					}
				}
			}
			{"mod:add/menu:0/ai_medic/on"
				{condition
					{terms
						{"1.event"
							{id "menu:0_player_ai_medic_on"}
						}
					}
				}
				{actions
					{"event"
						{event "menu:0_player_ai_medic_off"}
						{mode reset}
						{delay 0}
					}
					{"if"
						{condition
							{type event}
							{id "menu:0"}
						}
						{"reinforcement"
							{operation hide}
							{name menu_0_player_medic_on}
						}
						{"switch"
							{"case"
								{condition
									{type event}
									{id "battle_mod:store"}
								}
							}
							{"default"
								{"reinforcement"
									{operation show}
									{name menu_0_player_medic_off}
								}
							}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/ai_medic/off"}
					}
				}
			}
			{"mod:add/menu:0/all/show"
				{condition
					{terms
						{"1.event"
							{id "menu:0"}
						}
					}
				}
				{actions
					{"switch"
						{"case"
							{condition
								{type event}
								{id "battle_mod:store"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "menu:0_player_ai_medic_off"}
							}
							{"reinforcement"
								{operation show}
								{name menu_0_player_medic_on}
							}
						}
						{"case"
							{condition
								{type event}
								{id "menu:0_player_ai_medic_on"}
							}
							{"reinforcement"
								{operation show}
								{name menu_0_player_medic_off}
							}
						}
						{"default"
							{"reinforcement"
								{operation show}
								{name menu_0_player_medic_on}
							}
						}
					}
					{"reinforcement"
						{operation show}
						{name menu_0_clear_target}
					}
					{"reinforcement"
						{operation show}
						{name menu_0_change_weather}
					}
					{"if"
						{condition
							{type event}
							{id "player:set"}
						}
						{"if"
							{condition
								{type event}
								{id "players:menu_end"}
							}
							{"switch"
								{"case"
									{condition
										{type event}
										{id "ally:ita"}
									}
									{"switch"
										{"case"
											{condition
												{type event}
												{id "player:ita"}
											}
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_rus}
											}
										}
										{"default"
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_ita}
											}
										}
									}
								}
								{"case"
									{condition
										{type event}
										{id "ally:eng"}
									}
									{"switch"
										{"case"
											{condition
												{type event}
												{id "player:eng"}
											}
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_usa}
											}
										}
										{"default"
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_eng}
											}
										}
									}
								}
								{"case"
									{condition
										{type event}
										{id "ally:fra"}
									}
									{"switch"
										{"case"
											{condition
												{type event}
												{id "player:fra"}
											}
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_usa}
											}
										}
										{"default"
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_fra}
											}
										}
									}
								}
								{"case"
									{condition
										{type event}
										{id "ally:ger"}
									}
									{"switch"
										{"case"
											{condition
												{type event}
												{id "player:ger"}
											}
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_jap}
											}
										}
										{"default"
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_ger}
											}
										}
									}
								}
								{"case"
									{condition
										{type event}
										{id "ally:hun"}
									}
									{"switch"
										{"case"
											{condition
												{type event}
												{id "player:hun"}
											}
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_ger}
											}
										}
										{"default"
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_hun}
											}
										}
									}
								}
								{"case"
									{condition
										{type event}
										{id "ally:jap"}
									}
									{"switch"
										{"case"
											{condition
												{type event}
												{id "player:jap"}
											}
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_ger}
											}
										}
										{"default"
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_jap}
											}
										}
									}
								}
								{"case"
									{condition
										{type event}
										{id "ally:rus"}
									}
									{"switch"
										{"case"
											{condition
												{type event}
												{id "player:rus"}
											}
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_usa}
											}
										}
										{"default"
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_rus}
											}
										}
									}
								}
								{"case"
									{condition
										{type event}
										{id "ally:usa"}
									}
									{"switch"
										{"case"
											{condition
												{type event}
												{id "player:usa"}
											}
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_eng}
											}
										}
										{"default"
											{"reinforcement"
												{operation show}
												{name menu_0_ally_units_usa}
											}
										}
									}
								}
								{"case"
									{condition
										{type event}
										{id "player:ita"}
									}
									{"reinforcement"
										{operation show}
										{name menu_0_ally_units_rus}
									}
								}
								{"case"
									{condition
										{type event}
										{id "player:ger"}
									}
									{"reinforcement"
										{operation show}
										{name menu_0_ally_units_jap}
									}
								}
								{"case"
									{condition
										{type event}
										{id "player:hun"}
									}
									{"reinforcement"
										{operation show}
										{name menu_0_ally_units_ger}
									}
								}
								{"case"
									{condition
										{type event}
										{id "player:jap"}
									}
									{"reinforcement"
										{operation show}
										{name menu_0_ally_units_ger}
									}
								}
								{"case"
									{condition
										{type event}
										{id "player:usa"}
									}
									{"reinforcement"
										{operation show}
										{name menu_0_ally_units_eng}
									}
								}
								{"default"
									{"reinforcement"
										{operation show}
										{name menu_0_ally_units_usa}
									}
								}
							}
						}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "player:set"}
							}
							{"event"
								{event "menu_1"}
								{mode reset}
								{delay 0}
							}
							{"event"
								{event "menu_2"}
								{mode reset}
								{delay 0}
							}
							{"event"
								{event "menu_3"}
								{mode reset}
								{delay 0}
							}
							{"reinforcement"
								{operation hide}
								{name "menu:back"}
							}
						}
						{"default"
							{"reinforcement"
								{operation show}
								{name "menu:back"}
							}
						}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "menu:0_ai_off"}
							}
							{"reinforcement"
								{operation show}
								{name menu_0_ai_on}
							}
						}
						{"default"
							{"reinforcement"
								{operation show}
								{name menu_0_ai_off}
							}
						}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "menu:0_flak_ai_off"}
							}
							{"reinforcement"
								{operation show}
								{name menu_0_flak_ai_on}
							}
						}
						{"default"
							{"reinforcement"
								{operation show}
								{name menu_0_flak_ai_off}
							}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/all/off"}
					}
				}
			}
			{"mod:add/menu:0/all/off"
				{condition
					{expression "!1"}
					{terms
						{"1.event"
							{id "menu:0"}
						}
					}
				}
				{actions
					{"reinforcement"
						{operation hide}
						{name menu_0_clear_target}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_player_medic_on}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_player_medic_off}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_tank_trailer}
					}
					{"reinforcement"
						{operation hide}
						{name "inf_resupply:ger"}
					}
					{"reinforcement"
						{operation hide}
						{name "inf_resupply:rus"}
					}
					{"reinforcement"
						{operation hide}
						{name "inf_resupply:eng"}
					}
					{"reinforcement"
						{operation hide}
						{name "inf_resupply:usa"}
					}
					{"reinforcement"
						{operation hide}
						{name "inf_resupply:hun"}
					}
					{"reinforcement"
						{operation hide}
						{name "inf_resupply:ita"}
					}
					{"reinforcement"
						{operation hide}
						{name "inf_resupply:jap"}
					}
					{"reinforcement"
						{operation hide}
						{name "inf_resupply:fra"}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_change_weather}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_1000_loan}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_repay_1000}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_bad_weather}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ally_units_ita}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ally_units_eng}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ally_units_fra}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ally_units_ger}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ally_units_hun}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ally_units_jap}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ally_units_rus}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ally_units_usa}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ai_on}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_ai_off}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_flak_ai_on}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_flak_ai_off}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "player:set"}
							}
							{"event"
								{event "menu_1"}
								{mode reset}
								{delay 0}
							}
							{"event"
								{event "menu_2"}
								{mode reset}
								{delay 0}
							}
							{"event"
								{event "menu_3"}
								{mode reset}
								{delay 0}
							}
							{"reinforcement"
								{operation hide}
								{name "menu:back"}
							}
						}
						{"default"
							{"event"
								{event "menu_back_show1"}
								{mode set}
								{delay 0}
							}
							{"event"
								{event "menu_back_show2"}
								{mode set}
								{delay 0}
							}
							{"event"
								{event "menu_back_show3"}
								{mode set}
								{delay 0}
							}
							{"event"
								{event "menu_back_show4"}
								{mode set}
								{delay 0}
							}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/all/show"}
					}
				}
			}
			{"mod:add/menu:0/ai_medic/off"
				{condition
					{terms
						{"1.event"
							{id "menu:0_player_ai_medic_off"}
						}
					}
				}
				{actions
					{"event"
						{event "menu:0_player_ai_medic_on"}
						{mode reset}
						{delay 0}
					}
					{"if"
						{condition
							{type event}
							{id "menu:0"}
						}
						{"reinforcement"
							{operation hide}
							{name menu_0_player_medic_off}
						}
						{"switch"
							{"case"
								{condition
									{type event}
									{id "battle_mod:store"}
								}
							}
							{"default"
								{"reinforcement"
									{operation show}
									{name menu_0_player_medic_on}
								}
							}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/ai_medic/on"}
					}
				}
			}
			{"mod:add/menu:0/clear_target/work"
				{condition
					{terms
						{"1.event"
							{id "menu:0_clear_target"}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{tag
										{tag hidden}
									}
									{state
										{state inhabited}
									}
								}
							}
							{sort
								{type waypoint}
								{wpid "3000"}
							}
							{amount 1
							}
						}
						{tag_add del_target}
					}
					{"placement"
						{selector
							{ignore_captured_by_user 0}
							{tag hinter}
						}
						{target
							{ignore_captured_by_user 0}
						}
						{target_waypoint "3000"}
					}
					{"switch"
						{"case"
							{condition
								{type near}
								{units
									{ignore_captured_by_user 0}
									{tag del_target}
								}
								{near_to
									{ignore_captured_by_user 0}
									{tag hinter}
								}
								{distance 20}
							}
							{"if"
								{condition
									{type entities}
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag del_target}
												}
											}
											{include
												{player
													{player "0"}
												}
												{prop
													{prop tank}
												}
											}
											{exclude
												{tag
													{tag unarmed}
												}
												{tag
													{tag body_brake}
												}
											}
										}
									}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag del_target}
									}
									{tag_add body_brake}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag del_target}
									}
									{tag_add destroyed}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag del_target}
									}
									{tag_add for_sell}
								}
								{"delay"
									{time 2}
								}
							}
							{"delete"
								{selector
									{ignore_captured_by_user 0}
									{tag del_target}
								}
							}
						}
						{"default"
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag del_target}
								}
								{tag_remove del_target}
							}
						}
					}
					{"event"
						{event "menu:0_clear_target"}
						{mode reset}
						{delay 0}
					}
					{"trigger"
						{name "mod:add/menu:0/clear_target/work"}
					}
				}
			}
			{"game/ai/veh_ai/link_check"
				{condition
					{type 1}
					{terms
						{"1.entities"
							{selector
								{ignore_captured_by_user 0}
								{tag linked}
								{type vehicle}
							}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop vehicle}
										}
										{state
											{state linked}
										}
									}
								}
							}
						}
					}
				}
				{actions
					{"loop" 29
						{"if"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{prop
												{prop vehicle}
											}
											{state
												{state linked}
											}
										}
										{exclude
											{tag
												{tag linked_veh}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{prop
												{prop vehicle}
											}
											{state
												{state linked}
											}
										}
										{exclude
											{tag
												{tag linked_veh}
											}
										}
									}
									{amount 1
									}
								}
								{tag_add link_veh}
							}
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{prop
												{prop vehicle}
											}
										}
										{exclude
											{state
												{state linked}
											}
											{tag
												{tag link_veh}
											}
											{tag
												{tag linked_check}
											}
										}
									}
									{sort
										{type entity}
										{entity
											{ignore_captured_by_user 0}
											{tag link_veh}
										}
									}
									{amount 1
									}
								}
								{tag_add linked_check}
							}
							{"if"
								{condition
									{type entities}
									{selector
										{ignore_captured_by_user 0}
										{tag linked_check}
										{type vehicle}
										{state "not inhabited"}
									}
								}
								{"linker"
									{selector
										{ignore_captured_by_user 0}
										{tag linked_check}
									}
									{action unlink}
									{entities
										{ignore_captured_by_user 0}
										{tag link_veh}
									}
								}
								{"delay"
									{time 0.1}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag linked_check}
									}
									{tag_remove linked_check}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag link_veh}
									}
									{tag_remove link_veh}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag linked_check}
								}
								{tag_add linked_checked}
								{tag_remove linked_check}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag link_veh}
								}
								{tag_add linked_veh}
								{tag_remove link_veh}
							}
						}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag linked}
									}
								}
								{exclude
									{tag
										{tag linked_checked}
									}
								}
							}
						}
						{tag_remove linked}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag linked_checked}
						}
						{tag_add linked}
						{tag_remove linked_checked}
					}
					{"delay"
						{time 1}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag linked_veh}
						}
						{tag_remove linked_veh}
					}
					{"trigger"
						{name "game/ai/veh_ai/link_check"}
					}
				}
			}
			{"mod:add/menu:0/tank_trailer/work"
				{condition
					{terms
						{"1.event"
							{id "menu:0_tank_trailer"}
						}
					}
				}
				{actions
					{"spawn"
						{entity "trailer_target"}
						{waypoint "3000"}
					}
					{"delay"
						{time 0.01}
					}
					{"switch"
						{"case"
							{condition
								{type near}
								{units
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{prop
												{prop tank}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{tag
												{tag linked}
											}
											{state
												{state linked}
											}
											{state
												{state inhabited}
											}
										}
									}
									{group
										{include
											{prop
												{prop tank}
											}
											{state
												{state user_control}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{state
												{state linked}
											}
											{tag
												{tag linked}
											}
											{state
												{state moveable}
											}
										}
									}
								}
								{near_to
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag trailer_target}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
										}
									}
									{sort
										{type waypoint}
										{wpid "3000"}
									}
									{amount 1
									}
								}
								{distance 20}
							}
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{prop
												{prop tank}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{tag
												{tag linked}
											}
											{state
												{state linked}
											}
											{state
												{state inhabited}
											}
										}
									}
									{group
										{include
											{prop
												{prop tank}
											}
											{state
												{state user_control}
											}
										}
										{exclude
											{tag
												{tag linked}
											}
											{state
												{state linked}
											}
											{state
												{state moveable}
											}
											{tag
												{tag hidden}
											}
										}
									}
									{sort
										{type waypoint}
										{wpid "3000"}
									}
									{amount 1
									}
								}
								{tag_add tank_save_target}
							}
							{"switch"
								{"case"
									{condition
										{type near}
										{units
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag heavy_trailer}
													}
												}
												{include
													{player
														{player "0"}
													}
													{state
														{state moveable}
													}
												}
												{exclude
													{tag
														{tag hidden}
													}
													{tag
														{tag linked}
													}
													{state
														{state linked}
													}
												}
											}
										}
										{near_to
											{ignore_captured_by_user 0}
											{tag tank_save_target}
										}
										{distance 20}
									}
									{"entity_state"
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag heavy_trailer}
													}
												}
												{include
													{player
														{player "0"}
													}
													{prop
														{prop vehicle}
													}
													{state
														{state moveable}
													}
												}
												{exclude
													{tag
														{tag hidden}
													}
													{tag
														{tag linked}
													}
													{state
														{state linked}
													}
												}
											}
											{sort
												{type entity}
												{entity
													{ignore_captured_by_user 0}
													{tag tank_save_target}
												}
											}
											{amount 1
											}
										}
										{tag_add trailer_working}
									}
								}
								{"default"
									{"entity_state"
										{selector
											{ignore_captured_by_user 0}
											{tag tank_save_target}
										}
										{tag_remove tank_save_target}
									}
								}
							}
						}
					}
					{"switch"
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag trailer_working}
								}
							}
							{"entity_state"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag trailer_target}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{state
												{state linked}
											}
										}
									}
									{sort
										{type waypoint}
										{wpid "3000"}
									}
									{amount 1
									}
								}
								{tag_add trailer_target_working}
								{tag_remove trailer_target}
							}
							{"linker"
								{selector
									{ignore_captured_by_user 0}
									{tag trailer_target_working}
								}
								{entities
									{ignore_captured_by_user 0}
									{tag tank_save_target}
								}
							}
							{"delay"
								{time 0.01}
							}
							{"action"
								{selector
									{ignore_captured_by_user 0}
									{tag trailer_working}
								}
								{drop orders}
								{action attach}
								{target
									{ignore_captured_by_user 0}
									{tag trailer_target_working}
								}
							}
							{"linker"
								{selector
									{ignore_captured_by_user 0}
									{tag trailer_working}
								}
								{entities
									{ignore_captured_by_user 0}
									{tag trailer_target_working}
								}
								{place
									{type trailer}
								}
							}
							{"delay"
								{time 0.1}
							}
							{"action"
								{selector
									{ignore_captured_by_user 0}
									{tag trailer_working}
								}
								{drop orders}
								{action attach}
								{target
									{ignore_captured_by_user 0}
									{tag trailer_target_working}
								}
							}
							{"linker"
								{selector
									{ignore_captured_by_user 0}
									{tag trailer_working}
								}
								{entities
									{ignore_captured_by_user 0}
									{tag trailer_target_working}
								}
								{place
									{type trailer}
								}
							}
							{"delay"
								{time 0.1}
							}
							{"action"
								{selector
									{ignore_captured_by_user 0}
									{tag trailer_working}
								}
								{drop orders}
								{action attach}
								{target
									{ignore_captured_by_user 0}
									{tag trailer_target_working}
								}
							}
							{"linker"
								{selector
									{ignore_captured_by_user 0}
									{tag trailer_working}
								}
								{entities
									{ignore_captured_by_user 0}
									{tag trailer_target_working}
								}
								{place
									{type trailer}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag trailer_target_working}
								}
								{tag_add trailer_target_work}
								{tag_remove trailer_target_working}
							}
						}
						{"default"
							{"delete"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag trailer_target}
											}
										}
										{exclude
											{tag
												{tag hidden}
											}
											{state
												{state linked}
											}
										}
									}
									{sort
										{type waypoint}
										{wpid "3000"}
									}
									{amount 1
									}
								}
							}
						}
					}
					{"delay"
						{time 1}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag tank_save_target}
						}
						{tag_remove tank_save_target}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag trailer_working}
						}
						{tag_remove trailer_working}
					}
					{"event"
						{event "menu:0_tank_trailer"}
						{mode reset}
						{delay 0}
					}
					{"trigger"
						{name "mod:add/menu:0/tank_trailer/work"}
					}
				}
			}
			{"mod:add/menu:0/tank_trailer/check"
				{condition
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag trailer_target_work}
										}
									}
									{exclude
										{state
											{state linked}
										}
									}
								}
							}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag trailer_target_work}
									}
								}
								{exclude
									{state
										{state linked}
									}
								}
							}
							{amount 1
							}
						}
						{tag_add trailer_target_remove}
						{tag_remove trailer_target_work}
					}
					{"if"
						{condition
							{type near}
							{units
								{ignore_captured_by_user 0}
								{tag trailer_target_remove}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop tank}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
									}
								}
							}
							{distance 1}
						}
						{"linker"
							{selector
								{ignore_captured_by_user 0}
								{tag trailer_target_remove}
							}
							{action unlink}
							{entities
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop tank}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
									}
								}
								{sort
									{type entity}
									{entity
										{ignore_captured_by_user 0}
										{tag trailer_target_remove}
									}
								}
								{amount 1
								}
							}
						}
					}
					{"delay"
						{time 0.1}
					}
					{"delete"
						{selector
							{ignore_captured_by_user 0}
							{tag trailer_target_remove}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/tank_trailer/check"}
					}
				}
			}
			{"reinforcements:menu/menu_back"
				{condition
				}
				{actions
					{"event"
						{event "menu:0"}
						{mode reset}
						{delay 0}
					}
				}
			}
			{"game/ai/veh_ai/tag"
				{condition
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop vehicle}
										}
									}
									{exclude
										{tag
											{tag tagged}
										}
									}
								}
							}
						}
					}
				}
				{actions
					{"delay"
						{time 1}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{tag
										{tag tagged}
									}
								}
							}
						}
						{tag_add tagging}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag tagging}
									}
								}
								{include
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{prop
										{prop car}
									}
									{prop
										{prop tank}
									}
									{tag
										{tag trailer_n}
									}
									{tag
										{tag not_cannon}
									}
									{tag
										{tag unarmed}
									}
								}
							}
							{group
								{select
									{tag
										{tag tagging}
									}
								}
								{include
									{tag
										{tag armred}
									}
									{prop
										{prop car}
									}
								}
							}
						}
						{tag_add cannon}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag tagging}
									}
								}
								{include
									{tag
										{tag cannon}
									}
								}
							}
						}
						{tag_add na}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag tagging}
									}
								}
								{include
									{prop
										{prop car}
									}
								}
								{exclude
									{tag
										{tag hidden}
									}
								}
							}
							{group
								{select
									{tag
										{tag tagging}
									}
									{tag
										{tag hidden}
									}
								}
								{include
									{prop
										{prop car}
									}
								}
							}
						}
						{tag_add na}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag tagging}
									}
								}
								{include
									{tag
										{tag hidden}
									}
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{prop
										{prop car}
									}
								}
							}
							{group
								{select
									{tag
										{tag tagging}
									}
								}
								{include
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{prop
										{prop car}
									}
								}
							}
							{group
								{select
									{tag
										{tag tagging}
									}
								}
								{include
									{tag
										{tag armred}
									}
								}
								{exclude
									{prop
										{prop car}
									}
								}
							}
						}
						{tag_add veh}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "mgun" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add mgun}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "hmgun" "ammo"}
										{min 1}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet20" "zenite" "ammo"}
										{min 1}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet20" "airplane" "ammo"}
										{min 1}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet25" "zenite" "ammo"}
										{min 1}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet37" "zenite" "ammo"}
										{min 1}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet40" "zenite" "ammo"}
										{min 1}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet30" "zenite" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add ztgun}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "hmgun" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add hmgun}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet20" "zenite" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "20ztgun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet25" "zenite" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "25ztgun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet30" "zenite" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "30ztgun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet37" "zenite" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "37ztgun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet40" "zenite" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "40ztgun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "mortar" "fg" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add mortgun}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "mortar150" "fg" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add heavy_mortgun}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "mortar120" "fg" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "120_mortgun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet37" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "37gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet40" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "40gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet42" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "42gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet45" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "45gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet47" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "47gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet50" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "50gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet57" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "57gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet75" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "75gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet75" "fg" "ammo"}
										{min 1}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "bullet75" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "75gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet76" "fg" "ammo"}
										{min 1}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "bullet76" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "76gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet76" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "76gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet77" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "77gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet85" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "85gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet89" "fg" "ammo"}
										{min 1}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "bullet89" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "87.6gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet88" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "88gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet90" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "90gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet93" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "93gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet95" "fg" "ammo"}
										{min 1}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "bullet95" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "95gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet100" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "100gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet105" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "105gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet105" "fg" "ammo"}
										{min 1}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "bullet105" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "105gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet107" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "107gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet120" "fg" "ammo"}
										{min 1}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "bullet120" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "120gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet120" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "120gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet122" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "122gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet122" "fg" "ammo"}
										{min 1}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "bullet122" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "122gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet128" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "128gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet130" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "130gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet150" "fg" "ammo"}
										{min 1}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "bullet150" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "150gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet150" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "150gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet152" "fg" "ammo"}
										{min 1}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "bullet152" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "152gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet152" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "152gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet155" "fg" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "155gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet170" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "170gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet183" "ap" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "183gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet203" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "203gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet234" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "234gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet240" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "240gun_he"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet280" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "280gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet165" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "165gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet290" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "290gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bullet600" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "600gun"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "lm_ammo" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "76rocket"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "tulip" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "76tulip_rocket"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "calliope" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "114rocket"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "bm8" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add bm8rocket}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "katusha" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add bm13rocket}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "m31" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add bm31rocket}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "type63_rocket" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "107rocket"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "panzerwerfer42" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "150rocket"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "nebel41" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add nb41rocket}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "nebel42" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add nb42rocket}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "20cm_rocket" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "200rocket"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "30cm_rocket" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "300rocket"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "sturmtiger" "ammo"}
										{min 1}
									}
								}
							}
						}
						{tag_add "380rocket"}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
								}
								{exclude
									{with_item
										{type amount}
										{item "shell"}
										{min 1}
									}
									{tag
										{tag cannon}
									}
									{tag
										{tag unarmed}
									}
									{tag
										{tag "20ztgun"}
									}
									{tag
										{tag "25ztgun"}
									}
									{tag
										{tag "37ztgun"}
									}
									{tag
										{tag "40ztgun"}
									}
									{tag
										{tag hmgun}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag hmgun}
									}
									{with_item
										{type amount}
										{item "mgun" "weapon"}
										{min 1}
									}
								}
								{exclude
									{tag
										{tag cannon}
									}
									{with_item
										{type amount}
										{item "shell"}
										{min 1}
									}
									{tag
										{tag unarmed}
									}
								}
							}
							{group
								{select
									{tag
										{tag unarmed}
									}
								}
								{include
									{tag
										{tag tagging}
									}
								}
							}
						}
						{tag_add unarmed}
						{tag_remove veh}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "shell"}
										{min 1}
									}
									{prop
										{prop tank}
									}
								}
								{exclude
									{tag
										{tag unarmed}
									}
									{tag
										{tag "20ztgun"}
									}
									{tag
										{tag "25ztgun"}
									}
									{tag
										{tag "37ztgun"}
									}
									{tag
										{tag "40ztgun"}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{with_item
										{type amount}
										{item "shell"}
										{min 1}
									}
									{tag
										{tag "20ztgun"}
									}
									{tag
										{tag "170gun"}
									}
									{prop
										{prop tank}
									}
								}
								{exclude
									{tag
										{tag unarmed}
									}
								}
							}
						}
						{tag_add mbt}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag ztgun}
									}
									{prop
										{prop vehicle}
									}
								}
								{exclude
									{tag
										{tag mbt}
									}
									{tag
										{tag unarmed}
									}
									{tag
										{tag cannon}
									}
								}
							}
						}
						{tag_add ztgun_tank}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag "200rocket"}
									}
									{tag
										{tag tagging}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag "300rocket"}
									}
									{tag
										{tag tagging}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag "600gun"}
									}
									{tag
										{tag tagging}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag "155gun_he"}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag "152gun_he"}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag "150gun_he"}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag "152gun"}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag "150gun"}
									}
								}
							}
						}
						{tag_add ranger_200}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag "203gun_he"}
									}
									{tag
										{tag tagging}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag "234gun_he"}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag "240gun_he"}
									}
								}
							}
							{group
								{select
									{tag
										{tag veh}
									}
								}
								{include
									{tag
										{tag tagging}
									}
									{tag
										{tag "280gun"}
									}
								}
							}
						}
						{tag_add ranger_300}
					}
					{"switch"
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
											{tag
												{tag "80t_tank"}
											}
											{prop
												{prop tank}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag tagging}
								}
								{tag_add mp2000}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
											{tag
												{tag ranger_300}
											}
										}
										{exclude
											{tag
												{tag light_tank}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag tagging}
								}
								{tag_add mp2000}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
											{tag
												{tag ranger_300}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag tagging}
								}
								{tag_add mp1000}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
											{tag
												{tag ranger_200}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag tagging}
								}
								{tag_add mp700}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
										}
										{exclude
											{tag
												{tag mp2000}
											}
											{tag
												{tag mp1500}
											}
											{tag
												{tag mp1000}
											}
											{tag
												{tag mp900}
											}
											{tag
												{tag mp800}
											}
											{tag
												{tag mp700}
											}
											{tag
												{tag mp600}
											}
											{tag
												{tag mp500}
											}
											{tag
												{tag mp400}
											}
											{tag
												{tag mp300}
											}
											{tag
												{tag mp200}
											}
											{tag
												{tag mp100}
											}
										}
									}
								}
								{count
									{op "=="}
									{value 0}
								}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
											{tag
												{tag "60t_tank"}
											}
											{prop
												{prop tank}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag tagging}
								}
								{tag_add mp1500}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
											{tag
												{tag "40t_tank"}
											}
											{prop
												{prop tank}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag tagging}
								}
								{tag_add mp1000}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
											{tag
												{tag "20t_tank"}
											}
											{prop
												{prop tank}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag tagging}
								}
								{tag_add mp500}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
											{tag
												{tag "10t_tank"}
											}
											{prop
												{prop tank}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag tagging}
								}
								{tag_add mp300}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag tagging}
											}
										}
										{include
											{tag
												{tag veh}
											}
											{tag
												{tag btr_weight}
											}
											{prop
												{prop tank}
											}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag tagging}
								}
								{tag_add mp100}
							}
						}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag tagging}
						}
						{tag_add tagged}
						{tag_remove tagging}
					}
					{"trigger"
						{name "game/ai/veh_ai/tag"}
					}
				}
			}
			{"mod:add/menu:0/change_weather/work"
				{condition
					{terms
						{"1.event"
							{id "menu:0_change_weather"}
						}
					}
				}
				{actions
					{"delete"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag day}
									}
								}
							}
							{group
								{select
									{tag
										{tag night}
									}
								}
							}
							{group
								{select
									{tag
										{tag rain}
									}
								}
							}
						}
					}
					{"event"
						{event "menu:0_change_weather"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "bad_weather"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "dark_night"}
						{mode reset}
						{delay 0}
					}
					{"switch"
						{"case"
							{condition
								{type rand}
								{value 0.15}
							}
							{"environment"
								{name "multi/multi_10"}
							}
							{"event"
								{event "bad_weather"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type rand}
								{value 0.15}
							}
							{"environment"
								{name "skirmish/jap-iwojima"}
							}
							{"event"
								{event "bad_weather"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type rand}
								{value 0.15}
							}
							{"environment"
								{name "multi/multi_09"}
							}
							{"event"
								{event "bad_weather"}
								{mode set}
								{delay 0}
							}
							{"event"
								{event "dark_night"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type rand}
								{value 0.15}
							}
							{"environment"
								{name "multi/multi_07"}
							}
						}
						{"case"
							{condition
								{type rand}
								{value 0.15}
							}
							{"environment"
								{name "skirmish/ger-gazala_b"}
							}
						}
						{"case"
							{condition
								{type rand}
								{value 0.15}
							}
							{"environment"
								{name "skirmish/_bonus_02"}
							}
							{"event"
								{event "bad_weather"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type rand}
								{value 0.15}
							}
							{"environment"
								{name "skirmish/rus-iskra_b"}
							}
						}
						{"case"
							{condition
								{type rand}
								{value 0.15}
							}
							{"environment"
								{name "skirmish/rus-kursk"}
							}
						}
						{"default"
							{"environment"
								{name "skirmish/usa-philippines"}
							}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/change_weather/work"}
					}
				}
			}
			{"game/ai/veh_ai/repair&board_veh"
				{condition
					{type 1}
					{terms
						{"1.near"
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop human}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{tag
											{tag hidden}
										}
										{state
											{state user_control}
										}
										{player
											{player "0"}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop vehicle}
										}
									}
									{exclude
										{state
											{state inhabited}
										}
										{tag
											{tag hidden}
										}
										{tag
											{tag destroyed}
										}
										{prop
											{prop car}
										}
										{tag
											{tag unarmed}
										}
										{state
											{state linked}
										}
									}
								}
							}
							{distance 50}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{state
											{state moveable}
										}
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{select
										{tag
											{tag gun_brake}
										}
									}
									{include
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
										{tag
											{tag hidden}
										}
										{tag
											{tag unarmed}
										}
										{prop
											{prop car}
										}
									}
								}
								{group
									{select
										{tag
											{tag turret_brake}
										}
									}
									{include
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{state
											{state user_control}
										}
										{player
											{player "0"}
										}
									}
								}
							}
						}
						{"3.entities"
							{selector
								{ignore_captured_by_user 0}
								{tag allys_repair}
							}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{prop
										{prop human}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
									{state
										{state user_control}
									}
									{player
										{player "0"}
									}
									{state
										{state linked}
									}
									{with_item
										{type amount}
										{item "morphine"}
										{min 1}
									}
									{with_item
										{type amount}
										{item "mgun" "weapon"}
										{min 1}
									}
									{with_item
										{type amount}
										{item "sniper" "weapon"}
										{min 1}
									}
									{with_item
										{type amount}
										{item "rocketlauncher" "to_hand"}
										{min 1}
									}
								}
							}
						}
						{tag_add veh_repairer}
					}
					{"switch"
						{"case"
							{condition
								{type difficulty}
								{level easy}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag veh_repairer}
									{player "1"}
								}
								{tag_remove veh_repairer}
							}
						}
						{"case"
							{condition
								{type difficulty}
								{level normal}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag veh_repairer}
									{player "1"}
								}
								{tag_remove veh_repairer}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_armor_03}
								}
								{count
									{op "=="}
									{value 0}
								}
							}
							{"if"
								{condition
									{type entities}
									{selector
										{ignore_captured_by_user 0}
										{tag player_armor_01}
									}
								}
								{"if"
									{condition
										{type entities}
										{selector
											{ignore_captured_by_user 0}
											{tag player_armor_02}
										}
									}
									{"entity_state"
										{selector
											{ignore_captured_by_user 0}
											{tag veh_repairer}
											{player "1"}
										}
										{tag_remove veh_repairer}
									}
								}
							}
						}
					}
					{"if"
						{condition
							{type entities}
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{state
											{state moveable}
										}
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{select
										{tag
											{tag gun_brake}
										}
									}
									{include
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
										{tag
											{tag hidden}
										}
										{prop
											{prop car}
										}
										{tag
											{tag unarmed}
										}
									}
								}
								{group
									{select
										{tag
											{tag turret_brake}
										}
									}
									{include
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{state
											{state user_control}
										}
										{player
											{player "0"}
										}
									}
								}
							}
						}
						{"loop" 9
							{"if"
								{condition
									{type entities}
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag gun_brake}
												}
											}
											{include
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{player
													{player "0"}
												}
												{state
													{state user_control}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag veh_repairer_targeted}
												}
												{tag
													{tag unarmed}
												}
												{prop
													{prop car}
												}
											}
										}
										{group
											{select
												{tag
													{tag turret_brake}
												}
											}
											{include
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
												{player
													{player "0"}
												}
												{tag
													{tag veh_repairer_targeted}
												}
											}
										}
									}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag gun_brake}
												}
											}
											{include
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{player
													{player "0"}
												}
												{state
													{state user_control}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag veh_repairer_targeted}
												}
												{tag
													{tag unarmed}
												}
												{prop
													{prop car}
												}
											}
										}
										{group
											{select
												{tag
													{tag turret_brake}
												}
											}
											{include
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{state
													{state user_control}
												}
												{player
													{player "0"}
												}
												{tag
													{tag veh_repairer_targeted}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add veh_repairer_target}
								}
								{"switch"
									{"case"
										{condition
											{type near}
											{units
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
												{player "2"}
												{state inhabited}
											}
											{near_to
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation enemy}
															{player "2"}
														}
														{state
															{state operatable}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
											{distance 75}
										}
									}
									{"case"
										{condition
											{type near}
											{units
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
												{player "1"}
												{state inhabited}
											}
											{near_to
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation enemy}
															{player "1"}
														}
														{state
															{state operatable}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
											{distance 75}
										}
									}
									{"default"
										{"entity_state"
											{selector
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
												{player "2"}
											}
											{tag_add allys_repair}
											{tag_remove allys}
										}
										{"actor_state"
											{selector
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
											}
											{drop orders}
											{move_mode hold}
										}
										{"delay"
											{time 0.01}
										}
										{"action"
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer}
														}
													}
												}
												{sort
													{type entity}
													{entity
														{ignore_captured_by_user 0}
														{tag veh_repairer_target}
													}
												}
												{amount 1
												}
											}
											{drop orders}
											{action repair}
											{target
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
											}
										}
									}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag veh_repairer_target}
									}
									{tag_add veh_repairer_targeted}
									{tag_remove veh_repairer_target}
								}
							}
							{"if"
								{condition
									{type entities}
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{state
													{state moveable}
												}
												{player
													{player "0"}
												}
												{state
													{state user_control}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag veh_repairer_targeted}
												}
											}
										}
									}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{state
													{state moveable}
												}
												{player
													{player "0"}
												}
												{state
													{state user_control}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag veh_repairer_targeted}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add veh_repairer_target}
								}
								{"switch"
									{"case"
										{condition
											{type near}
											{units
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
												{player "2"}
												{state inhabited}
											}
											{near_to
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation enemy}
															{player "2"}
														}
														{state
															{state operatable}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
											{distance 75}
										}
									}
									{"case"
										{condition
											{type near}
											{units
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
												{player "1"}
												{state inhabited}
											}
											{near_to
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation enemy}
															{player "1"}
														}
														{state
															{state operatable}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
													}
												}
											}
											{distance 75}
										}
									}
									{"default"
										{"action"
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer}
														}
													}
												}
												{sort
													{type entity}
													{entity
														{ignore_captured_by_user 0}
														{tag veh_repairer_target}
													}
												}
												{amount 1
												}
											}
											{drop orders}
											{action repair}
											{target
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
											}
										}
									}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag veh_repairer_target}
									}
									{tag_add veh_repairer_targeted}
									{tag_remove veh_repairer_target}
								}
							}
						}
					}
					{"if"
						{condition
							{type near}
							{units
								{ignore_captured_by_user 0}
								{tag veh_repairer}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{prop
											{prop vehicle}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{state
											{state inhabited}
										}
										{tag
											{tag destroyed}
										}
										{tag
											{tag unarmed}
										}
										{prop
											{prop car}
										}
										{state
											{state linked}
										}
									}
								}
							}
							{distance 50}
						}
						{"loop" 9
							{"if"
								{condition
									{type see_actors}
									{selector
										{ignore_captured_by_user 0}
										{tag veh_repairer}
									}
									{enemy
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{prop
													{prop vehicle}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{state
													{state inhabited}
												}
												{tag
													{tag destroyed}
												}
												{tag
													{tag veh_repairer_targeted}
												}
												{tag
													{tag unarmed}
												}
												{prop
													{prop car}
												}
												{state
													{state linked}
												}
											}
										}
									}
									{distance
										{mode near_than}
										{meters 50}
									}
									{tag
										{"tag pair"}
										{"for selector" veh_repairer_check}
										{"for enemy" veh_repairer_target}
									}
								}
								{"switch"
									{"case"
										{condition
											{type near}
											{units
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer_check}
														}
													}
													{include
														{relation
															{relation ally}
															{player "0"}
														}
													}
												}
											}
											{near_to
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer_target}
														}
													}
													{include
														{player
															{player "0"}
														}
														{prop
															{prop tank}
														}
													}
													{exclude
														{tag
															{tag body_brake}
														}
														{tag
															{tag turret_brake}
														}
														{tag
															{tag engine_brake}
														}
														{tag
															{tag gun_brake}
														}
													}
												}
												{group
													{select
														{tag
															{tag veh_repairer_target}
														}
													}
													{include
														{state
															{state user_control}
														}
														{prop
															{prop tank}
														}
													}
													{exclude
														{tag
															{tag body_brake}
														}
														{tag
															{tag turret_brake}
														}
														{tag
															{tag engine_brake}
														}
														{tag
															{tag gun_brake}
														}
													}
												}
											}
											{distance 70}
										}
									}
									{"case"
										{condition
											{type near}
											{units
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer_check}
														}
													}
													{include
														{relation
															{relation enemy}
															{player "0"}
														}
													}
												}
											}
											{near_to
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer_target}
														}
													}
													{exclude
														{tag
															{tag body_brake}
														}
														{tag
															{tag turret_brake}
														}
														{tag
															{tag engine_brake}
														}
														{tag
															{tag gun_brake}
														}
													}
												}
											}
											{distance 50}
										}
										{"action"
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer}
														}
													}
													{include
														{relation
															{relation enemy}
															{player "0"}
														}
													}
												}
												{sort
													{type entity}
													{entity
														{ignore_captured_by_user 0}
														{tag veh_repairer_target}
													}
												}
												{amount 3
												}
											}
											{drop orders}
											{action board}
											{target
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
											}
										}
										{"actor_state"
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer}
														}
													}
													{include
														{relation
															{relation enemy}
															{player "0"}
														}
													}
												}
												{sort
													{type entity}
													{entity
														{ignore_captured_by_user 0}
														{tag veh_repairer_target}
													}
												}
												{amount 3
												}
											}
											{movement
												{speed assault}
											}
										}
									}
									{"case"
										{condition
											{type near}
											{units
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{player
															{player "0"}
														}
														{prop
															{prop human}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{state
															{state dead}
														}
													}
												}
											}
											{near_to
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer_target}
														}
													}
													{include
														{prop
															{prop vehicle}
														}
													}
													{exclude
														{tag
															{tag body_brake}
														}
														{tag
															{tag turret_brake}
														}
														{tag
															{tag engine_brake}
														}
														{tag
															{tag gun_brake}
														}
													}
												}
											}
											{distance 10}
										}
									}
									{"case"
										{condition
											{type entities}
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer_target}
														}
													}
													{exclude
														{tag
															{tag body_brake}
														}
														{tag
															{tag turret_brake}
														}
														{tag
															{tag engine_brake}
														}
														{tag
															{tag gun_brake}
														}
													}
												}
											}
										}
										{"action"
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer}
														}
													}
												}
												{sort
													{type entity}
													{entity
														{ignore_captured_by_user 0}
														{tag veh_repairer_target}
													}
												}
												{amount 3
												}
											}
											{drop orders}
											{action board}
											{target
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
											}
										}
										{"actor_state"
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer}
														}
													}
												}
												{sort
													{type entity}
													{entity
														{ignore_captured_by_user 0}
														{tag veh_repairer_target}
													}
												}
												{amount 3
												}
											}
											{movement
												{speed assault}
											}
										}
									}
									{"default"
										{"action"
											{selector
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag veh_repairer_check}
														}
													}
													{exclude
														{tag
															{tag ai_close_inf}
														}
														{tag
															{tag ai_tank_inf}
														}
													}
												}
											}
											{drop orders}
											{action repair}
											{target
												{ignore_captured_by_user 0}
												{tag veh_repairer_target}
											}
										}
									}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag veh_repairer_check}
									}
									{tag_remove veh_repairer}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag veh_repairer_check}
									}
									{tag_remove veh_repairer_check}
								}
								{"entity_state"
									{selector
										{ignore_captured_by_user 0}
										{tag veh_repairer_target}
									}
									{tag_add veh_repairer_targeted}
									{tag_remove veh_repairer_target}
								}
							}
						}
					}
					{"delay"
						{time 9.8}
					}
					{"actor_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh_repairer_targeted}
									}
								}
								{include
									{tag
										{tag cannon}
									}
									{state
										{state inhabited}
									}
								}
							}
						}
						{drop orders}
						{cannon move}
					}
					{"delay"
						{time 0.1}
					}
					{"action"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh_repairer_targeted}
									}
								}
								{include
									{relation
										{relation enemy}
										{player "0"}
									}
									{state
										{state inhabited}
									}
								}
							}
						}
						{drop orders}
						{action rotate}
						{target
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag flag_playerbase_player}
									}
								}
							}
							{group
								{select
									{tag
										{tag player_base}
									}
								}
							}
						}
					}
					{"action"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag veh_repairer_targeted}
									}
								}
								{include
									{relation
										{relation enemy}
										{player "1"}
									}
									{state
										{state inhabited}
									}
								}
								{exclude
									{state
										{state user_control}
									}
								}
							}
						}
						{drop orders}
						{action rotate}
						{target
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag flag_aibase_ai}
									}
								}
							}
							{group
								{select
									{tag
										{tag ai_base}
									}
								}
							}
						}
					}
					{"delay"
						{time 0.1}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag veh_repairer_targeted}
							{player "2"}
							{state inhabited}
						}
						{tag_add allys}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag veh_repairer_targeted}
						}
						{tag_remove veh_repairer_targeted}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag veh_repairer}
						}
						{tag_remove veh_repairer}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag allys_repair}
									}
								}
								{exclude
									{player
										{player "2"}
									}
								}
							}
						}
						{tag_remove allys_repair}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag allys_repair}
									}
								}
								{include
									{player
										{player "2"}
									}
								}
								{exclude
									{tag
										{tag gun_brake}
									}
									{tag
										{tag turret_brake}
									}
								}
							}
						}
						{tag_add allys}
						{tag_remove allys_repair}
					}
					{"trigger"
						{name "game/ai/veh_ai/repair&board_veh"}
					}
				}
			}
			{"game/ai/inf_ai/weapon_check/weapon_drop"
				{condition
					{expression "!1"}
					{terms
						{"1.event"
							{id "stop_ai"}
						}
					}
				}
				{actions
					{## "if"
						{condition
							{type entities}
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{inventory_items
											{from_entities
												{ignore_captured_by_user 0}
												{tag good_weapon}
												{player "1"}
												{type human}
											}
										}
									}
									{include
										{tag
											{tag smg_weapon}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag good_smg_weapon}
										}
									}
								}
								{group
									{select
										{inventory_items
											{from_entities
												{ignore_captured_by_user 0}
												{tag good_weapon}
												{player "1"}
												{type human}
											}
										}
									}
									{include
										{tag
											{tag rifle_weapon}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag good_rifle_weapon}
										}
									}
								}
								{group
									{select
										{inventory_items
											{from_entities
												{ignore_captured_by_user 0}
												{tag good_weapon}
												{player "2"}
												{type human}
											}
										}
									}
									{include
										{tag
											{tag smg_weapon}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag good_smg_weapon}
										}
									}
								}
								{group
									{select
										{inventory_items
											{from_entities
												{ignore_captured_by_user 0}
												{tag good_weapon}
												{player "2"}
												{type human}
											}
										}
									}
									{include
										{tag
											{tag rifle_weapon}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag good_rifle_weapon}
										}
									}
								}
							}
						}
						{"delete"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{inventory_items
											{from_entities
												{ignore_captured_by_user 0}
												{tag good_weapon}
												{player "1"}
												{type human}
											}
										}
									}
									{include
										{tag
											{tag smg_weapon}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag good_smg_weapon}
										}
									}
								}
								{group
									{select
										{inventory_items
											{from_entities
												{ignore_captured_by_user 0}
												{tag good_weapon}
												{player "1"}
												{type human}
											}
										}
									}
									{include
										{tag
											{tag rifle_weapon}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag good_rifle_weapon}
										}
									}
								}
								{group
									{select
										{inventory_items
											{from_entities
												{ignore_captured_by_user 0}
												{tag good_weapon}
												{player "2"}
												{type human}
											}
										}
									}
									{include
										{tag
											{tag smg_weapon}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag good_smg_weapon}
										}
									}
								}
								{group
									{select
										{inventory_items
											{from_entities
												{ignore_captured_by_user 0}
												{tag good_weapon}
												{player "2"}
												{type human}
											}
										}
									}
									{include
										{tag
											{tag rifle_weapon}
										}
										{state
											{state linked}
										}
									}
									{exclude
										{tag
											{tag good_rifle_weapon}
										}
									}
								}
							}
						}
					}
					{## "if"
						{condition
							{type entities}
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag inf_weapon_checked}
										}
									}
									{include
										{with_item
											{type amount}
											{item "pistol" "weapon"}
											{min 1}
										}
									}
									{exclude
										{tag
											{tag inf_weapon_need}
										}
										{state
											{state dead}
										}
										{state
											{state user_control}
										}
										{player
											{player "0"}
										}
									}
								}
							}
						}
						{"entity_state"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag inf_weapon_checked}
										}
									}
									{include
										{with_item
											{type amount}
											{item "pistol" "weapon"}
											{min 1}
										}
									}
									{exclude
										{tag
											{tag inf_weapon_need}
										}
										{state
											{state dead}
										}
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
									}
								}
							}
							{tag_add pistol_remove}
						}
						{"inventory"
							{selector
								{ignore_captured_by_user 0}
								{tag pistol_remove}
								{state "not dead"}
							}
							{action take}
							{item "pistol" "weapon"}
						}
						{"delay"
							{time 2}
						}
						{"inventory"
							{selector
								{ignore_captured_by_user 0}
								{tag pistol_remove}
								{state "not dead"}
							}
							{action drop}
						}
						{"delay"
							{time 1}
						}
						{"actor_state"
							{selector
								{ignore_captured_by_user 0}
								{tag pistol_remove}
								{state "not dead"}
							}
							{weapon_prepare on}
						}
						{"entity_state"
							{selector
								{ignore_captured_by_user 0}
								{tag pistol_remove}
							}
							{tag_remove pistol_remove}
						}
					}
					{"if"
						{condition
							{type entities}
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag inf_weapon_checked}
										}
									}
									{include
										{with_item
											{type amount}
											{item "pistol" "weapon"}
											{min 1}
										}
									}
									{exclude
										{tag
											{tag inf_weapon_need}
										}
										{state
											{state dead}
										}
										{state
											{state user_control}
										}
										{player
											{player "0"}
										}
										{tag
											{tag player_officer_squad}
										}
										{tag
											{tag officer_squad}
										}
									}
								}
							}
						}
						{"entity_state"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag inf_weapon_checked}
										}
									}
									{include
										{with_item
											{type amount}
											{item "pistol" "weapon"}
											{min 1}
										}
									}
									{exclude
										{tag
											{tag inf_weapon_need}
										}
										{state
											{state dead}
										}
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
										{tag
											{tag player_officer_squad}
										}
										{tag
											{tag officer_squad}
										}
									}
								}
							}
							{tag_add pistol_remove}
						}
						{"inventory"
							{selector
								{ignore_captured_by_user 0}
								{tag pistol_remove}
								{state "not dead"}
							}
							{action remove}
							{item "pistol" "weapon"}
						}
						{"delay"
							{time 0.1}
						}
						{"actor_state"
							{selector
								{ignore_captured_by_user 0}
								{tag pistol_remove}
								{state "not dead"}
							}
							{weapon_prepare on}
						}
						{"entity_state"
							{selector
								{ignore_captured_by_user 0}
								{tag pistol_remove}
							}
							{tag_remove pistol_remove}
						}
					}
					{"if"
						{condition
							{type entities}
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{with_item
											{type amount}
											{item "mgun" "weapon"}
											{min 1}
										}
										{with_item
											{type amount}
											{item "smg" "weapon"}
											{min 1}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{state
											{state user_control}
										}
										{player
											{player "0"}
										}
									}
								}
							}
						}
						{"entity_state"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag inf_weapon_checked}
										}
									}
									{include
										{with_item
											{type amount}
											{item "mgun" "weapon"}
											{min 1}
										}
										{with_item
											{type amount}
											{item "smg" "weapon"}
											{min 1}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
									}
								}
							}
							{tag_add weapon_remove}
						}
						{"inventory"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{action take}
							{item "smg" "weapon"}
						}
						{"delay"
							{time 2}
						}
						{"inventory"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{action drop}
						}
						{"delay"
							{time 1}
						}
						{"actor_state"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
								{state "not dead"}
							}
							{weapon_prepare on}
						}
						{"entity_state"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{tag_remove weapon_remove}
						}
					}
					{"if"
						{condition
							{type entities}
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{with_item
											{type amount}
											{item "mgun" "weapon"}
											{min 1}
										}
										{with_item
											{type amount}
											{item "rifle" "weapon"}
											{min 1}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{state
											{state user_control}
										}
										{player
											{player "0"}
										}
									}
								}
							}
						}
						{"entity_state"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag inf_weapon_checked}
										}
									}
									{include
										{with_item
											{type amount}
											{item "mgun" "weapon"}
											{min 1}
										}
										{with_item
											{type amount}
											{item "rifle" "weapon"}
											{min 1}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
									}
								}
							}
							{tag_add weapon_remove}
						}
						{"inventory"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{action take}
							{item "rifle" "weapon"}
						}
						{"delay"
							{time 2}
						}
						{"inventory"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{action drop}
						}
						{"delay"
							{time 1}
						}
						{"actor_state"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
								{state "not dead"}
							}
							{weapon_prepare on}
						}
						{"entity_state"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{tag_remove weapon_remove}
						}
					}
					{## "if"
						{condition
							{type entities}
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{with_item
											{type amount}
											{item "smg" "weapon"}
											{min 1}
										}
										{with_item
											{type amount}
											{item "rifle" "weapon"}
											{min 1}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{state
											{state user_control}
										}
										{player
											{player "0"}
										}
									}
								}
							}
						}
						{"entity_state"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag inf_weapon_checked}
										}
									}
									{include
										{with_item
											{type amount}
											{item "smg" "weapon"}
											{min 1}
										}
										{with_item
											{type amount}
											{item "rifle" "weapon"}
											{min 1}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
									}
								}
							}
							{tag_add weapon_remove}
						}
						{"inventory"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{action take}
							{item "smg" "weapon"}
						}
						{"delay"
							{time 1}
						}
						{"inventory"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{action drop}
						}
						{"delay"
							{time 1}
						}
						{"actor_state"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
								{state "not dead"}
							}
							{weapon_prepare on}
						}
						{"entity_state"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{tag_remove weapon_remove}
						}
					}
					{## "if"
						{condition
							{type entities}
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{with_item
											{type amount}
											{item "mgun" "weapon"}
											{min 1}
										}
										{with_item
											{type amount}
											{item "smg" "weapon"}
											{min 1}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{state
											{state user_control}
										}
										{player
											{player "0"}
										}
									}
								}
							}
						}
						{"entity_state"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag inf_weapon_checked}
										}
									}
									{include
										{with_item
											{type amount}
											{item "mgun" "weapon"}
											{min 1}
										}
										{with_item
											{type amount}
											{item "smg" "weapon"}
											{min 1}
										}
									}
									{exclude
										{state
											{state dead}
										}
										{player
											{player "0"}
										}
										{state
											{state user_control}
										}
									}
								}
							}
							{tag_add weapon_remove}
						}
						{"delete"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{inventory_items
											{from_entities
												{ignore_captured_by_user 0}
												{tag weapon_remove}
											}
										}
									}
									{include
										{entity_stuff
											{id "smg" "weapon"}
										}
									}
								}
							}
						}
						{"delay"
							{time 0.1}
						}
						{"actor_state"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
								{state "not dead"}
							}
							{weapon_prepare on}
						}
						{"entity_state"
							{selector
								{ignore_captured_by_user 0}
								{tag weapon_remove}
							}
							{tag_remove weapon_remove}
						}
					}
					{"delay"
						{time 3}
					}
					{"trigger"
						{name "game/ai/inf_ai/weapon_check/weapon_drop"}
					}
				}
			}
			{"mod:add/menu:0/1000mp/show"
				{condition
					{expression "1"}
					{terms
						{"1.event"
							{id "menu:0"}
						}
					}
				}
				{actions
					{"switch"
						{"case"
							{condition
								{type event}
								{id "menu:0_loan_out_1000"}
							}
							{"reinforcement"
								{operation show}
								{name menu_0_repay_1000}
							}
						}
						{"case"
							{condition
								{type event}
								{id "battle_mod:store"}
							}
						}
						{"default"
							{"reinforcement"
								{operation show}
								{name menu_0_1000_loan}
							}
						}
					}
					{"delay"
						{time 1}
					}
					{"trigger"
						{name "mod:add/menu:0/1000mp/show"}
					}
				}
			}
			{"mod:add/menu:0/1000mp/loan"
				{condition
					{terms
						{"1.event"
							{id "menu:0_loan_out_1000"}
						}
					}
				}
				{actions
					{"reinforcement"
						{operation score_add}
						{score 500}
					}
					{"reinforcement"
						{operation hide}
						{name menu_0_1000_loan}
					}
				}
			}
			{"mod:add/menu:0/1000mp/repay"
				{condition
					{terms
						{"1.event"
							{id "menu:0_repay_1000"}
						}
					}
				}
				{actions
					{"event"
						{event "menu:0_loan_out_1000"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "menu:0_repay_1000"}
						{mode reset}
						{delay 0}
					}
					{"trigger"
						{name "mod:add/menu:0/1000mp/loan"}
					}
					{"trigger"
						{name "mod:add/menu:0/1000mp/repay_auto"}
					}
					{"trigger"
						{name "mod:add/menu:0/1000mp/repay"}
					}
				}
			}
			{"mod:add/menu:0/1000mp/repay_auto"
				{condition
					{terms
						{"1.event"
							{id "menu:0_loan_out_1000"}
						}
					}
				}
				{actions
					{"delay"
						{time 1200}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "menu:0_loan_out_1000"}
							}
							{"reinforcement"
								{operation score_add}
								{score -100}
							}
							{"loop" 900
								{"if"
									{condition
										{type event}
										{id "menu:0_loan_out_1000"}
									}
									{"reinforcement"
										{operation score_add}
										{score -1}
									}
									{"delay"
										{time 2}
									}
								}
							}
							{"event"
								{event "menu:0_loan_out_1000"}
								{mode reset}
								{delay 0}
							}
							{"event"
								{event "menu:0_repay_1000"}
								{mode set}
								{delay 0}
							}
							{"trigger"
								{name "mod:add/menu:0/1000mp/repay_auto"}
							}
						}
						{"default"
							{"trigger"
								{name "mod:add/menu:0/1000mp/repay_auto"}
							}
						}
					}
				}
			}
			{"mod:add/menu:0/tank_trailer/show"
				{condition
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag heavy_trailer}
										}
									}
									{include
										{player
											{player "0"}
										}
										{state
											{state moveable}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag linked}
										}
										{state
											{state linked}
										}
									}
								}
							}
						}
						{"2.event"
							{id "menu:0"}
						}
					}
				}
				{actions
					{"reinforcement"
						{operation show}
						{name menu_0_tank_trailer}
					}
					{"trigger"
						{name "mod:add/menu:0/tank_trailer/hide"}
					}
				}
			}
			{"mod:add/menu:0/tank_trailer/hide"
				{condition
					{expression "!1 | !2"}
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag heavy_trailer}
										}
									}
									{include
										{player
											{player "0"}
										}
										{state
											{state moveable}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag linked}
										}
										{state
											{state linked}
										}
									}
								}
							}
						}
						{"2.event"
							{id "menu:0"}
						}
					}
				}
				{actions
					{"reinforcement"
						{operation hide}
						{name menu_0_tank_trailer}
					}
					{"trigger"
						{name "mod:add/menu:0/tank_trailer/show"}
					}
				}
			}
			{"game/ai/veh_ai/aa"
				{condition
					{type 1}
					{terms
						{"1.near"
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag plane}
										}
									}
									{include
										{state
											{state moveable}
										}
										{relation
											{relation ally}
											{player "0"}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag destroyed}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag flak}
										}
									}
									{include
										{relation
											{relation enemy}
											{player "0"}
										}
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
									}
								}
								{group
									{select
										{tag
											{tag ztgun}
										}
									}
									{include
										{relation
											{relation enemy}
											{player "0"}
										}
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
										{prop
											{prop tank}
										}
									}
								}
								{group
									{select
										{tag
											{tag ztgun}
										}
									}
									{include
										{relation
											{relation enemy}
											{player "0"}
										}
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
										{tag
											{tag hmgun}
										}
									}
								}
								{group
									{select
										{tag
											{tag hmgun}
										}
									}
									{include
										{relation
											{relation enemy}
											{player "0"}
										}
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
										{tag
											{tag unarmed}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
									}
								}
							}
							{distance 220}
						}
						{"2.near"
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag plane}
										}
									}
									{include
										{state
											{state moveable}
										}
										{relation
											{relation enemy}
											{player "0"}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag destroyed}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag flak}
										}
									}
									{include
										{relation
											{relation ally}
											{player "0"}
										}
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
									}
								}
								{group
									{select
										{tag
											{tag ztgun}
										}
									}
									{include
										{relation
											{relation ally}
											{player "0"}
										}
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
										{prop
											{prop tank}
										}
									}
								}
								{group
									{select
										{tag
											{tag ztgun}
										}
									}
									{include
										{relation
											{relation ally}
											{player "0"}
										}
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
										{tag
											{tag hmgun}
										}
									}
								}
								{group
									{select
										{tag
											{tag hmgun}
										}
									}
									{include
										{relation
											{relation ally}
											{player "0"}
										}
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
										{tag
											{tag unarmed}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
									}
								}
							}
							{distance 220}
						}
					}
				}
				{actions
					{"loop" 9
						{"switch"
							{"case"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag plane}
												}
											}
											{include
												{state
													{state moveable}
												}
												{relation
													{relation enemy}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag destroyed}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag flak}
												}
											}
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
											}
										}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{prop
													{prop tank}
												}
											}
										}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag hmgun}
												}
											}
										}
										{group
											{select
												{tag
													{tag hmgun}
												}
											}
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
												{tag
													{tag unarmed}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
											}
										}
									}
									{distance 220}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag flak}
												}
											}
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag flak_checked}
												}
											}
										}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{prop
													{prop tank}
												}
												{tag
													{tag flak_checked}
												}
											}
										}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag hmgun}
												}
												{tag
													{tag flak_checked}
												}
											}
										}
										{group
											{select
												{tag
													{tag hmgun}
												}
											}
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
												{tag
													{tag unarmed}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag flak_checked}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag plane}
														}
													}
													{include
														{state
															{state moveable}
														}
														{relation
															{relation enemy}
															{player "0"}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{tag
															{tag destroyed}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add flak_check}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag plane}
												}
											}
											{include
												{state
													{state moveable}
												}
												{relation
													{relation enemy}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag destroyed}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{ignore_captured_by_user 0}
												{tag flak_check}
											}
										}
										{amount 1
										}
									}
									{tag_add flak_check_target}
								}
							}
							{"case"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag plane}
												}
											}
											{include
												{state
													{state moveable}
												}
												{relation
													{relation ally}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag destroyed}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag flak}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
											}
										}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{prop
													{prop tank}
												}
											}
										}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag hmgun}
												}
											}
										}
										{group
											{select
												{tag
													{tag hmgun}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
												{tag
													{tag unarmed}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
											}
										}
									}
									{distance 220}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag flak}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag flak_checked}
												}
											}
										}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{prop
													{prop tank}
												}
												{tag
													{tag flak_checked}
												}
											}
										}
										{group
											{select
												{tag
													{tag ztgun}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag hmgun}
												}
												{tag
													{tag flak_checked}
												}
											}
										}
										{group
											{select
												{tag
													{tag hmgun}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{prop
													{prop tank}
												}
												{state
													{state inhabited}
												}
												{tag
													{tag unarmed}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag flak_checked}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{select
														{tag
															{tag plane}
														}
													}
													{include
														{state
															{state moveable}
														}
														{relation
															{relation ally}
															{player "0"}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{tag
															{tag destroyed}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add flak_check}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag plane}
												}
											}
											{include
												{state
													{state moveable}
												}
												{relation
													{relation ally}
													{player "0"}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag destroyed}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{ignore_captured_by_user 0}
												{tag flak_check}
											}
										}
										{amount 1
										}
									}
									{tag_add flak_check_target}
								}
							}
						}
						{"if"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag flak_check}
								}
							}
							{"if"
								{condition
									{type entities}
									{selector
										{ignore_captured_by_user 0}
										{tag flak_check}
										{player "0"}
									}
								}
								{"if"
									{condition
										{type event}
										{id "menu:0_flak_ai_off"}
									}
									{"entity_state"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{tag_add flak_check_ignored}
									}
								}
							}
							{"switch"
								{"case"
									{condition
										{type entities}
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check_ignored}
										}
									}
									{"entity_state"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check_ignored}
										}
										{tag_remove flak_check_ignored}
									}
								}
								{"case"
									{condition
										{type near}
										{units
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{near_to
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag flak_check}
													}
												}
												{include
													{tag
														{tag flak}
													}
												}
											}
										}
										{distance 200}
									}
									{"action"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{drop orders}
										{action attack}
										{target
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{volume body}
									}
									{"actor_fire"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{attack enemies}
										{enemies
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{interval 0}
										{time 0}
										{burst_mode short}
									}
								}
								{"case"
									{condition
										{type near}
										{units
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{near_to
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag flak_check}
													}
												}
												{include
													{tag
														{tag "40ztgun"}
													}
												}
											}
											{group
												{select
													{tag
														{tag flak_check}
													}
												}
												{include
													{tag
														{tag "37ztgun"}
													}
												}
											}
										}
										{distance 140}
									}
									{"action"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{drop orders}
										{action attack}
										{target
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{volume body}
									}
									{"actor_fire"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{attack enemies}
										{enemies
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{interval 0}
										{time 0}
										{burst_mode long}
									}
								}
								{"case"
									{condition
										{type near}
										{units
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{near_to
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag flak_check}
													}
												}
												{include
													{tag
														{tag "25ztgun"}
													}
												}
											}
											{group
												{select
													{tag
														{tag flak_check}
													}
												}
												{include
													{tag
														{tag "23ztgun"}
													}
												}
											}
											{group
												{select
													{tag
														{tag flak_check}
													}
												}
												{include
													{tag
														{tag "20ztgun"}
													}
												}
											}
										}
										{distance 120}
									}
									{"action"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{drop orders}
										{action attack}
										{target
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{volume body}
									}
									{"actor_fire"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{attack enemies}
										{enemies
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{interval 0}
										{time 0}
										{burst_mode long}
									}
								}
								{"case"
									{condition
										{type near}
										{units
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{near_to
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag flak_check}
													}
												}
											}
										}
										{distance 100}
									}
									{"action"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{drop orders}
										{action attack}
										{target
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{volume body}
									}
									{"actor_fire"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{attack enemies}
										{enemies
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{interval 0}
										{time 0}
										{burst_mode long}
									}
								}
								{"case"
									{condition
										{type near}
										{units
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{near_to
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag flak_check}
													}
												}
											}
										}
										{distance 220}
									}
									{"action"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{drop orders}
										{action attack}
										{target
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
										{volume body}
									}
									{"delay"
										{time 0.1}
									}
									{"action"
										{selector
											{ignore_captured_by_user 0}
											{tag flak_check}
										}
										{drop orders}
										{action rotate}
										{target
											{ignore_captured_by_user 0}
											{tag flak_check_target}
										}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag flak_check}
								}
								{tag_add flak_checked}
								{tag_remove flak_check}
							}
						}
						{"entity_state"
							{selector
								{ignore_captured_by_user 0}
								{tag flak_check_target}
							}
							{tag_remove flak_check_target}
						}
					}
					{"delay"
						{time 1}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag flak_checked}
						}
						{tag_remove flak_checked}
					}
					{"trigger"
						{name "game/ai/veh_ai/aa"}
					}
				}
			}
			{"mod:add/menu:0/no_air/show"
				{condition
					{expression "1 & !2"}
					{terms
						{"1.event"
							{id "menu:0"}
						}
						{"2.event"
							{id "bad_weather"}
						}
					}
				}
				{actions
					{"reinforcement"
						{operation show}
						{name menu_0_bad_weather}
					}
					{"trigger"
						{name "mod:add/menu:0/no_air/hide"}
					}
				}
			}
			{"mod:add/menu:0/no_air/hide"
				{condition
					{expression "!1 | 2"}
					{terms
						{"1.event"
							{id "menu:0"}
						}
						{"2.event"
							{id "bad_weather"}
						}
					}
				}
				{actions
					{"reinforcement"
						{operation hide}
						{name menu_0_bad_weather}
					}
					{"trigger"
						{name "mod:add/menu:0/no_air/show"}
					}
				}
			}
			{"game/ai/inf_ai/weapon_check/fast_clean/weapons"
				{condition
					{expression "(1 | 2) & !3"}
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag stuff}
										}
									}
									{exclude
										{state
											{state linked}
										}
									}
								}
								{group
									{select
										{tag
											{tag del_stuff}
										}
									}
									{exclude
										{state
											{state linked}
										}
									}
								}
							}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag stuff_del}
										}
									}
									{include
										{state
											{state linked}
										}
									}
								}
							}
						}
						{"3.event"
							{id "battle:none"}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag stuff_del}
									}
								}
								{include
									{state
										{state linked}
									}
								}
							}
						}
						{tag_remove stuff_del}
					}
					{"delete"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag stuff_del}
									}
								}
							}
							{group
								{select
									{tag
										{tag del_stuff}
									}
								}
								{exclude
									{state
										{state linked}
									}
								}
							}
						}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag stuff}
									}
								}
								{exclude
									{state
										{state linked}
									}
									{tag
										{tag stuff_del}
									}
								}
							}
						}
						{tag_add stuff_del}
					}
					{"loop" 6
						{"delay"
							{time 10}
						}
						{"delete"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag del_stuff}
										}
									}
									{exclude
										{state
											{state linked}
										}
									}
								}
							}
						}
					}
					{"trigger"
						{name "game/ai/inf_ai/weapon_check/fast_clean/weapons"}
					}
				}
			}
			{"mod:add/veh_resupply/del"
				{condition
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag player_truck_ammo}
										}
									}
									{include
										{tag
											{tag player_old_truck}
										}
									}
								}
							}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag player_truck_ammo}
										}
									}
									{exclude
										{tag
											{tag player_old_truck}
										}
										{tag
											{tag hidden}
										}
									}
								}
							}
						}
					}
				}
				{actions
					{"delete"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag player_truck_ammo}
									}
								}
								{exclude
									{tag
										{tag player_old_truck}
									}
									{tag
										{tag hidden}
									}
								}
							}
						}
					}
					{"trigger"
						{name "mod:add/veh_resupply/del"}
					}
				}
			}
			{"mod:add/menu:0/ally_units/work"
				{condition
					{terms
						{"1.event"
							{id "menu:0_ally_units"}
						}
					}
				}
				{actions
					{"switch"
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag player_ita}
											}
										}
									}
									{group
										{select
											{tag
												{tag player_eng}
											}
										}
									}
									{group
										{select
											{tag
												{tag player_fra}
											}
										}
									}
									{group
										{select
											{tag
												{tag player_ger}
											}
										}
									}
									{group
										{select
											{tag
												{tag player_hun}
											}
										}
									}
									{group
										{select
											{tag
												{tag player_jap}
											}
										}
									}
									{group
										{select
											{tag
												{tag player_rus}
											}
										}
									}
									{group
										{select
											{tag
												{tag player_usa}
											}
										}
									}
								}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:ita"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{amount 1
									}
									{tag flag}
								}
								{tag_add player_ita}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:eng"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{amount 1
									}
									{tag flag}
								}
								{tag_add player_eng}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:fra"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{amount 1
									}
									{tag flag}
								}
								{tag_add player_fra}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:ger"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{amount 1
									}
									{tag flag}
								}
								{tag_add player_ger}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:hun"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{amount 1
									}
									{tag flag}
								}
								{tag_add player_hun}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:jap"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{amount 1
									}
									{tag flag}
								}
								{tag_add player_jap}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:rus"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{amount 1
									}
									{tag flag}
								}
								{tag_add player_rus}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:usa"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{amount 1
									}
									{tag flag}
								}
								{tag_add player_usa}
							}
						}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "ally:ita"}
							}
							{"event"
								{event "player:ita"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:eng"}
							}
							{"event"
								{event "player:eng"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:fra"}
							}
							{"event"
								{event "player:fra"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:ger"}
							}
							{"event"
								{event "player:ger"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:hun"}
							}
							{"event"
								{event "player:hun"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:jap"}
							}
							{"event"
								{event "player:jap"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:rus"}
							}
							{"event"
								{event "player:rus"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:usa"}
							}
							{"event"
								{event "player:usa"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:ita"}
							}
							{"event"
								{event "player:rus"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:ger"}
							}
							{"event"
								{event "player:jap"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:hun"}
							}
							{"event"
								{event "player:ger"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:jap"}
							}
							{"event"
								{event "player:ger"}
								{mode set}
								{delay 0}
							}
						}
						{"default"
							{"event"
								{event "player:usa"}
								{mode set}
								{delay 0}
							}
						}
					}
					{"switch"
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_ita}
								}
							}
							{"event"
								{event "player:ita"}
								{mode reset}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_eng}
								}
							}
							{"event"
								{event "player:eng"}
								{mode reset}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_fra}
								}
							}
							{"event"
								{event "player:fra"}
								{mode reset}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_ger}
								}
							}
							{"event"
								{event "player:ger"}
								{mode reset}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_hun}
								}
							}
							{"event"
								{event "player:hun"}
								{mode reset}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_jap}
								}
							}
							{"event"
								{event "player:jap"}
								{mode reset}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_rus}
								}
							}
							{"event"
								{event "player:rus"}
								{mode reset}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_usa}
								}
							}
							{"event"
								{event "player:usa"}
								{mode reset}
								{delay 0}
							}
						}
					}
					{"switch"
						{"case"
							{condition
								{type event}
								{id "player:ita"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:eng"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:fra"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:ger"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:hun"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:jap"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:rus"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:usa"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:ita"}
							}
							{"event"
								{event "player:rus"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:ger"}
							}
							{"event"
								{event "player:jap"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:hun"}
							}
							{"event"
								{event "player:ger"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:jap"}
							}
							{"event"
								{event "player:ger"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type event}
								{id "ally:usa"}
							}
							{"event"
								{event "player:eng"}
								{mode set}
								{delay 0}
							}
						}
						{"default"
							{"event"
								{event "player:usa"}
								{mode set}
								{delay 0}
							}
						}
					}
					{"delay"
						{time 30}
					}
					{"event"
						{event "menu:0_ally_units"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "player:ita"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "player:eng"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "player:fra"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "player:ger"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "player:hun"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "player:jap"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "player:rus"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "player:usa"}
						{mode reset}
						{delay 0}
					}
					{"switch"
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_ita}
								}
							}
							{"event"
								{event "player:ita"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_eng}
								}
							}
							{"event"
								{event "player:eng"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_fra}
								}
							}
							{"event"
								{event "player:fra"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_ger}
								}
							}
							{"event"
								{event "player:ger"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_hun}
								}
							}
							{"event"
								{event "player:hun"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_jap}
								}
							}
							{"event"
								{event "player:jap"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_rus}
								}
							}
							{"event"
								{event "player:rus"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag player_usa}
								}
							}
							{"event"
								{event "player:usa"}
								{mode set}
								{delay 0}
							}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/ally_units/work"}
					}
				}
			}
			{"mod:add/basic/set"
				{condition
					{type 1}
					{terms
						{"1.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag eng}
										}
									}
								}
								{group
									{select
										{tag
											{tag ger}
										}
									}
								}
								{group
									{select
										{tag
											{tag rus}
										}
									}
								}
								{group
									{select
										{tag
											{tag jap}
										}
									}
								}
								{group
									{select
										{tag
											{tag usa}
										}
									}
								}
								{group
									{select
										{tag
											{tag ita}
										}
									}
								}
								{group
									{select
										{tag
											{tag hun}
										}
									}
								}
								{group
									{select
										{tag
											{tag fra}
										}
									}
								}
							}
							{count
								{op "=="}
								{value 0}
							}
						}
						{"2.event"
							{id "players:menu_end"}
						}
					}
				}
				{actions
					{"switch"
						{"case"
							{condition
								{type event}
								{id "battle_mod:fps_tank"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:eng"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:ger"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:jap"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:rus"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:usa"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:hun"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:ita"}
							}
						}
						{"case"
							{condition
								{type event}
								{id "player:fra"}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "feg_35m"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "feg_43m"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "solothurn_31m"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "danuvia_43m"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "danuvia_39m"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
								}
							}
							{"event"
								{event "player:hun"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "50pla_cap"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "50pla_cap2"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
								}
							}
							{"event"
								{event "player:ita"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "mauzer"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "mg42"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "mp40"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
								}
							}
							{"event"
								{event "player:ger"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "mosin"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "dp"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "ppsh"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
								}
							}
							{"event"
								{event "player:rus"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "em3"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "bren"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "sten"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
								}
							}
							{"event"
								{event "player:eng"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "mas36"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "fm_24-29"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "mas38"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
								}
							}
							{"event"
								{event "player:fra"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "garand"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "bar"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "thompson"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
								}
							}
							{"event"
								{event "player:usa"}
								{mode set}
								{delay 0}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "type99rifle"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "type99lmg"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop human}
											}
											{state
												{state user_control}
											}
											{with_item
												{type amount}
												{item "type100smg"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
										}
									}
								}
							}
							{"event"
								{event "player:jap"}
								{mode set}
								{delay 0}
							}
						}
					}
					{"switch"
						{"case"
							{condition
								{type difficulty}
								{level easy}
							}
						}
						{"case"
							{condition
								{type difficulty}
								{level normal}
							}
						}
						{"default"
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag "enemy_at-guns_01"}
								}
								{tag_remove "enemy_at-guns_01"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag "enemy_at-guns_02"}
								}
								{tag_remove "enemy_at-guns_02"}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag "enemy_at-guns_03"}
								}
								{tag_remove "enemy_at-guns_03"}
							}
						}
					}
					{"player"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{select
									{tag
										{tag hint_talk}
									}
								}
							}
							{group
								{select
									{tag
										{tag officer_talk}
									}
								}
							}
						}
						{operation set}
						{player "2"}
					}
				}
			}
			{"game/ai/medic/run/ing"
				{condition
					{terms
						{"1.entities"
							{selector
								{ignore_captured_by_user 0}
								{tag saved}
								{state "not dead"}
							}
						}
					}
				}
				{actions
					{"switch"
						{"case"
							{condition
								{type see_actors}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag saved}
											}
										}
										{include
											{relation
												{relation ally}
												{player "0"}
											}
										}
									}
								}
								{enemy
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{relation
												{relation ally}
												{player "0"}
											}
											{prop
												{prop human}
											}
											{with_item
												{type amount}
												{item "morphine"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
											{tag
												{tag hidden}
											}
										}
									}
								}
								{distance
									{mode near_than}
									{meters 5}
								}
								{tag
									{"tag pair"}
									{"for selector" medic_running}
									{"for enemy" medic_running}
								}
							}
							{"actor_state"
								{selector
									{ignore_captured_by_user 0}
									{tag medic_running}
								}
								{drop orders}
								{movement
									{type crawl}
								}
							}
							{## "action"
								{selector
									{ignore_captured_by_user 0}
									{tag medic_running}
								}
								{action move}
								{target
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag flag_playerbase_player}
											}
										}
									}
									{group
										{select
											{tag
												{tag player_base}
											}
										}
									}
									{sort
										{type entity}
										{entity
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{include
													{relation
														{relation enemy}
														{player "0"}
													}
													{prop
														{prop human}
													}
												}
												{exclude
													{state
														{state dead}
													}
													{tag
														{tag hidden}
													}
												}
											}
										}
										{mode farthest}
									}
									{amount 1
									}
								}
							}
						}
						{"case"
							{condition
								{type see_actors}
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag saved}
											}
										}
										{include
											{relation
												{relation enemy}
												{player "0"}
											}
										}
									}
								}
								{enemy
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{include
											{relation
												{relation enemy}
												{player "0"}
											}
											{prop
												{prop human}
											}
											{with_item
												{type amount}
												{item "morphine"}
												{min 1}
											}
										}
										{exclude
											{state
												{state dead}
											}
											{tag
												{tag hidden}
											}
										}
									}
								}
								{distance
									{mode near_than}
									{meters 5}
								}
								{tag
									{"tag pair"}
									{"for selector" medic_running}
									{"for enemy" medic_running}
								}
							}
							{"actor_state"
								{selector
									{ignore_captured_by_user 0}
									{tag medic_running}
								}
								{drop orders}
								{movement
									{type crawl}
								}
							}
							{## "action"
								{selector
									{ignore_captured_by_user 0}
									{tag medic_running}
								}
								{action move}
								{target
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag flag_aibase_ai}
											}
										}
									}
									{group
										{select
											{tag
												{tag enemy_base}
											}
										}
									}
									{sort
										{type entity}
										{entity
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{include
													{relation
														{relation ally}
														{player "0"}
													}
													{prop
														{prop human}
													}
												}
												{exclude
													{state
														{state dead}
													}
													{tag
														{tag hidden}
													}
												}
											}
										}
										{mode farthest}
									}
									{amount 1
									}
								}
							}
						}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag medic_running}
						}
						{tag_add medic_runned}
						{tag_remove saved}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag medic_running}
						}
						{tag_remove medic_running}
					}
					{"trigger"
						{name "game/ai/medic/run/ing"}
					}
				}
			}
			{"game/ai/medic/run/ed"
				{condition
					{terms
						{"1.entities"
							{selector
								{ignore_captured_by_user 0}
								{tag medic_runned}
							}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag medic_runned}
						}
						{tag_add medic_runned_stop}
						{tag_remove medic_runned}
					}
					{"delay"
						{time 5}
					}
					{## "actor_state"
						{selector
							{ignore_captured_by_user 0}
							{tag medic_runned_stop}
						}
						{drop orders}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag medic_runned_stop}
						}
						{tag_remove medic_runned_stop}
					}
					{"trigger"
						{name "game/ai/medic/run/ed"}
					}
				}
			}
			{"victory/win"
				{condition
				}
				{actions
					{"if"
						{condition
							{type event}
							{id "store_units"}
						}
						{"event"
							{event "store_units_end"}
							{mode set}
							{delay 0}
						}
						{"loop" 33
							{"switch"
								{"case"
									{condition
										{type event}
										{id "store_units_end_work"}
									}
								}
								{"default"
									{"delay"
										{time 10}
									}
								}
							}
						}
						{"delay"
							{time 5}
						}
					}
				}
			}
			{"mod:add/basic/kill_all_enemys"
				{condition
					{terms
						{"1.event"
							{id "kill_all_enemys"}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{player
											{player "1"}
										}
										{state
											{state moveable}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
									}
								}
							}
							{count
								{op ">"}
								{value 1}
							}
						}
					}
				}
				{actions
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{player "0"}
							{type human}
							{state "not dead"}
						}
						{impregnability full}
					}
					{"entity_state"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{player
										{player "1"}
									}
									{prop
										{prop human}
									}
								}
								{exclude
									{state
										{state dead}
									}
									{tag
										{tag hidden}
									}
								}
							}
							{sort
								{type entity}
								{entity
									{ignore_captured_by_user 0}
									{player "0"}
									{state moveable}
								}
								{mode farthest}
							}
							{amount 1
							}
						}
						{tag_add no_del}
					}
					{"emit"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{player
										{player "1"}
									}
									{prop
										{prop vehicle}
									}
									{state
										{state inhabited}
									}
								}
								{exclude
									{tag
										{tag hidden}
									}
								}
							}
						}
						{drop orders}
						{waypoint "3000"}
					}
					{"delay"
						{time 5}
					}
					{"delete"
						{selector
							{source advanced}
							{ignore_captured_by_user 0}
							{group
								{include
									{player
										{player "1"}
									}
									{prop
										{prop human}
									}
								}
								{exclude
									{tag
										{tag hidden}
									}
									{state
										{state dead}
									}
									{tag
										{tag no_del}
									}
								}
							}
						}
					}
					{"reinforcement"
						{operation score_add}
						{score 500}
					}
					{"trigger"
						{name "mod:add/basic/kill_all_enemys"}
					}
				}
			}
			{"mod:add/enemy_xcounter/light_reset"
				{condition
					{expression "2 & 4 & (1 | 3)"}
					{terms
						{"1.entities"
							{selector
								{ignore_captured_by_user 0}
								{tag captured}
							}
							{count
								{op ">="}
								{value 4}
							}
						}
						{"2.event"
							{id "battle_mod:light_veh"}
						}
						{"3.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag medium_tank}
										}
									}
									{include
										{player
											{player "0"}
										}
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag unarmed}
										}
									}
								}
								{group
									{select
										{tag
											{tag heavy_tank}
										}
									}
									{include
										{player
											{player "0"}
										}
										{prop
											{prop tank}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag unarmed}
										}
									}
								}
							}
						}
						{"4.event"
							{id "players:menu_end"}
						}
					}
				}
				{actions
					{"event"
						{event "battle_mod:light_veh"}
						{mode reset}
						{delay 0}
					}
				}
			}
			{"mod:add/menu:0/ai/off"
				{condition
					{terms
						{"1.event"
							{id "menu:0_ai_off"}
						}
					}
				}
				{actions
					{"event"
						{event "menu:0_ai_on"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "stop_ai"}
						{mode set}
						{delay 0}
					}
					{"if"
						{condition
							{type event}
							{id "menu:0"}
						}
						{"reinforcement"
							{operation hide}
							{name menu_0_ai_off}
						}
						{"reinforcement"
							{operation show}
							{name menu_0_ai_on}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/ai/on"}
					}
				}
			}
			{"mod:add/menu:0/ai/on"
				{condition
					{terms
						{"1.event"
							{id "menu:0_ai_on"}
						}
					}
				}
				{actions
					{"event"
						{event "menu:0_ai_off"}
						{mode reset}
						{delay 0}
					}
					{"event"
						{event "stop_ai"}
						{mode reset}
						{delay 0}
					}
					{"if"
						{condition
							{type event}
							{id "menu:0"}
						}
						{"reinforcement"
							{operation hide}
							{name menu_0_ai_on}
						}
						{"reinforcement"
							{operation show}
							{name menu_0_ai_off}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/ai/off"}
					}
				}
			}
			{"mod:add/basic/plane_clean"
				{condition
					{type 1}
					{terms
						{"1.near"
							{units
								{ignore_captured_by_user 0}
								{tag plane_piece}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag hidden}
										}
									}
									{include
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
									}
								}
								{group
									{select
										{tag
											{tag place}
										}
									}
								}
							}
							{distance 50}
						}
						{"2.entities"
							{selector
								{ignore_captured_by_user 0}
								{tag plane_piece}
							}
							{count
								{op ">="}
								{value 5}
							}
						}
					}
				}
				{actions
					{"switch"
						{"case"
							{condition
								{type near}
								{units
									{ignore_captured_by_user 0}
									{tag plane_piece}
								}
								{near_to
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag hidden}
											}
										}
										{include
											{prop
												{prop vehicle}
											}
											{state
												{state inhabited}
											}
										}
									}
									{group
										{select
											{tag
												{tag place}
											}
										}
									}
								}
								{distance 50}
							}
							{"delete"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag plane_piece}
											}
										}
									}
									{sort
										{type entity}
										{entity
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag place}
													}
												}
											}
											{group
												{select
													{tag
														{tag hidden}
													}
												}
												{include
													{prop
														{prop vehicle}
													}
													{state
														{state inhabited}
													}
												}
											}
										}
									}
									{amount 1
									}
								}
							}
						}
						{"case"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag plane_piece}
								}
								{count
									{op ">="}
									{value 5}
								}
							}
							{"delete"
								{selector
									{source advanced}
									{ignore_captured_by_user 0}
									{group
										{select
											{tag
												{tag plane_piece}
											}
										}
									}
									{sort
										{type entity}
										{entity
											{ignore_captured_by_user 0}
											{player "0"}
											{state moveable}
										}
										{mode farthest}
									}
									{amount 1
									}
								}
							}
						}
					}
					{"trigger"
						{name "mod:add/basic/plane_clean"}
					}
				}
			}
			{"game/ai/veh_ai/ranger_200&300"
				{condition
					{expression "( ( (1 | 2) & !6 & !5 ) | (2 & 6) ) & (3 | 4)"}
					{terms
						{"1.near"
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag ranger_300}
										}
									}
									{include
										{relation
											{relation enemy}
											{player "0"}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
										{tag
											{tag hidden}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{relation
											{relation ally}
											{player "0"}
										}
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag unarmed}
										}
										{prop
											{prop car}
										}
										{tag
											{tag plane}
										}
									}
								}
							}
							{distance 300}
						}
						{"2.near"
							{units
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag ranger_200}
										}
									}
									{include
										{relation
											{relation enemy}
											{player "0"}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{select
										{tag
											{tag ranger_300}
										}
									}
									{include
										{relation
											{relation enemy}
											{player "0"}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag gun_brake}
										}
										{tag
											{tag turret_brake}
										}
										{tag
											{tag hidden}
										}
									}
								}
							}
							{near_to
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{include
										{relation
											{relation ally}
											{player "0"}
										}
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag unarmed}
										}
										{prop
											{prop car}
										}
										{tag
											{tag plane}
										}
									}
								}
							}
							{distance 200}
						}
						{"3.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag captured}
										}
									}
								}
								{group
									{select
										{tag
											{tag veh}
										}
									}
									{include
										{player
											{player "0"}
										}
										{state
											{state inhabited}
										}
										{prop
											{prop vehicle}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag unarmed}
										}
										{tag
											{tag btr_weight}
										}
									}
								}
							}
							{count
								{op ">="}
								{value 5}
							}
						}
						{"4.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag ranger_300}
										}
									}
									{include
										{player
											{player "0"}
										}
										{state
											{state inhabited}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
									}
								}
								{group
									{select
										{tag
											{tag ranger_200}
										}
									}
									{include
										{player
											{player "0"}
										}
										{state
											{state inhabited}
										}
										{prop
											{prop vehicle}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{prop
											{prop tank}
										}
									}
								}
								{group
									{select
										{tag
											{tag ranger_200}
										}
									}
									{include
										{player
											{player "0"}
										}
										{state
											{state inhabited}
										}
										{prop
											{prop tank}
										}
									}
									{exclude
										{tag
											{tag hidden}
										}
										{tag
											{tag btr_weight}
										}
									}
								}
							}
							{count
								{op ">="}
								{value 1}
							}
						}
						{"5.difficulty"
							{level easy}
						}
						{"6.difficulty"
							{level normal}
						}
					}
				}
				{actions
					{"loop" 9
						{"switch"
							{"case"
								{condition
									{type difficulty}
									{level easy}
								}
							}
							{"case"
								{condition
									{type difficulty}
									{level normal}
								}
								{"if"
									{condition
										{type near}
										{units
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag ranger_300}
													}
												}
												{include
													{relation
														{relation enemy}
														{player "0"}
													}
													{state
														{state inhabited}
													}
												}
												{exclude
													{tag
														{tag gun_brake}
													}
													{tag
														{tag turret_brake}
													}
													{tag
														{tag hidden}
													}
													{tag
														{tag ranger_long_fired}
													}
												}
											}
											{group
												{select
													{tag
														{tag ranger_200}
													}
												}
												{include
													{relation
														{relation enemy}
														{player "0"}
													}
													{state
														{state inhabited}
													}
												}
												{exclude
													{tag
														{tag gun_brake}
													}
													{tag
														{tag turret_brake}
													}
													{tag
														{tag hidden}
													}
													{tag
														{tag ranger_long_fired}
													}
												}
											}
										}
										{near_to
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{include
													{relation
														{relation ally}
														{player "0"}
													}
													{prop
														{prop vehicle}
													}
													{state
														{state inhabited}
													}
												}
												{exclude
													{tag
														{tag hidden}
													}
													{tag
														{tag unarmed}
													}
													{prop
														{prop car}
													}
													{tag
														{tag plane}
													}
													{tag
														{tag ranger_long_fired_at}
													}
												}
											}
										}
										{distance 200}
									}
									{"entity_state"
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{select
													{tag
														{tag ranger_300}
													}
												}
												{include
													{relation
														{relation enemy}
														{player "0"}
													}
													{state
														{state inhabited}
													}
												}
												{exclude
													{tag
														{tag gun_brake}
													}
													{tag
														{tag turret_brake}
													}
													{tag
														{tag hidden}
													}
													{tag
														{tag ranger_long_fired}
													}
												}
											}
											{group
												{select
													{tag
														{tag ranger_200}
													}
												}
												{include
													{relation
														{relation enemy}
														{player "0"}
													}
													{state
														{state inhabited}
													}
												}
												{exclude
													{tag
														{tag gun_brake}
													}
													{tag
														{tag turret_brake}
													}
													{tag
														{tag hidden}
													}
													{tag
														{tag ranger_long_fired}
													}
												}
											}
											{sort
												{type entity}
												{entity
													{source advanced}
													{ignore_captured_by_user 0}
													{group
														{include
															{relation
																{relation ally}
																{player "0"}
															}
															{prop
																{prop vehicle}
															}
															{state
																{state inhabited}
															}
														}
														{exclude
															{tag
																{tag hidden}
															}
															{tag
																{tag unarmed}
															}
															{prop
																{prop car}
															}
															{tag
																{tag plane}
															}
															{tag
																{tag ranger_long_fired_at}
															}
														}
													}
												}
											}
											{amount 1
											}
										}
										{tag_add ranger_long_fire}
									}
									{"entity_state"
										{selector
											{source advanced}
											{ignore_captured_by_user 0}
											{group
												{include
													{relation
														{relation ally}
														{player "0"}
													}
													{prop
														{prop vehicle}
													}
													{state
														{state inhabited}
													}
												}
												{exclude
													{tag
														{tag hidden}
													}
													{tag
														{tag unarmed}
													}
													{prop
														{prop car}
													}
													{tag
														{tag plane}
													}
													{tag
														{tag ranger_long_fired_at}
													}
												}
											}
											{sort
												{type entity}
												{entity
													{ignore_captured_by_user 0}
													{tag ranger_long_fire}
												}
											}
											{amount 1
											}
										}
										{tag_add ranger_long_fire_at}
									}
								}
							}
							{"case"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag ranger_300}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag ranger_long_fired}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag unarmed}
												}
												{prop
													{prop car}
												}
												{tag
													{tag plane}
												}
												{tag
													{tag ranger_long_fired_at}
												}
											}
										}
									}
									{distance 300}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag ranger_300}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag ranger_long_fired}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation ally}
															{player "0"}
														}
														{prop
															{prop vehicle}
														}
														{state
															{state inhabited}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{tag
															{tag unarmed}
														}
														{prop
															{prop car}
														}
														{tag
															{tag plane}
														}
														{tag
															{tag ranger_long_fired_at}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ranger_long_fire}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag unarmed}
												}
												{prop
													{prop car}
												}
												{tag
													{tag plane}
												}
												{tag
													{tag ranger_long_fired_at}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{ignore_captured_by_user 0}
												{tag ranger_long_fire}
											}
										}
										{amount 1
										}
									}
									{tag_add ranger_long_fire_at}
								}
							}
							{"case"
								{condition
									{type near}
									{units
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag ranger_200}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag ranger_long_fired}
												}
											}
										}
									}
									{near_to
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag unarmed}
												}
												{prop
													{prop car}
												}
												{tag
													{tag plane}
												}
												{tag
													{tag ranger_long_fired_at}
												}
											}
										}
									}
									{distance 200}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag ranger_200}
												}
											}
											{include
												{relation
													{relation enemy}
													{player "0"}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag gun_brake}
												}
												{tag
													{tag turret_brake}
												}
												{tag
													{tag hidden}
												}
												{tag
													{tag ranger_long_fired}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{source advanced}
												{ignore_captured_by_user 0}
												{group
													{include
														{relation
															{relation ally}
															{player "0"}
														}
														{prop
															{prop vehicle}
														}
														{state
															{state inhabited}
														}
													}
													{exclude
														{tag
															{tag hidden}
														}
														{tag
															{tag unarmed}
														}
														{prop
															{prop car}
														}
														{tag
															{tag plane}
														}
														{tag
															{tag ranger_long_fired_at}
														}
													}
												}
											}
										}
										{amount 1
										}
									}
									{tag_add ranger_long_fire}
								}
								{"entity_state"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{include
												{relation
													{relation ally}
													{player "0"}
												}
												{prop
													{prop vehicle}
												}
												{state
													{state inhabited}
												}
											}
											{exclude
												{tag
													{tag hidden}
												}
												{tag
													{tag unarmed}
												}
												{prop
													{prop car}
												}
												{tag
													{tag plane}
												}
												{tag
													{tag ranger_long_fired_at}
												}
											}
										}
										{sort
											{type entity}
											{entity
												{ignore_captured_by_user 0}
												{tag ranger_long_fire}
											}
										}
										{amount 1
										}
									}
									{tag_add ranger_long_fire_at}
								}
							}
						}
						{"if"
							{condition
								{type entities}
								{selector
									{ignore_captured_by_user 0}
									{tag ranger_long_fire}
								}
							}
							{"action"
								{selector
									{ignore_captured_by_user 0}
									{tag ranger_long_fire}
								}
								{drop orders}
								{action attack}
								{target
									{ignore_captured_by_user 0}
									{tag ranger_long_fire_at}
								}
								{volume body}
							}
							{"if"
								{condition
									{type rand}
									{value 0.5}
								}
								{"delay"
									{time 3}
								}
								{"actor_fire"
									{selector
										{source advanced}
										{ignore_captured_by_user 0}
										{group
											{select
												{tag
													{tag ranger_long_fire}
												}
											}
											{include
												{tag
													{tag cannon}
												}
											}
										}
									}
									{attack enemies}
									{enemies
										{ignore_captured_by_user 0}
										{tag ranger_long_fire_at}
									}
									{interval 0}
									{time 0}
									{burst_mode once}
									{only_weapon
										{use}
										{place gun}
									}
								}
							}
							{"entity_state"
								{selector
									{ignore_captured_by_user 0}
									{tag ranger_long_fire}
								}
								{tag_add ranger_long_fired}
								{tag_remove ranger_long_fire}
							}
						}
						{"entity_state"
							{selector
								{ignore_captured_by_user 0}
								{tag ranger_long_fire_at}
							}
							{tag_add ranger_long_fired_at}
							{tag_remove ranger_long_fire_at}
						}
					}
					{"delay"
						{time 3}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag ranger_long_fired_at}
						}
						{tag_remove ranger_long_fired_at}
					}
					{"entity_state"
						{selector
							{ignore_captured_by_user 0}
							{tag ranger_long_fired}
						}
						{tag_remove ranger_long_fired}
					}
					{"trigger"
						{name "game/ai/veh_ai/ranger_200&300"}
					}
				}
			}
			{"mod:add/menu:0/flak_ai/off"
				{condition
					{terms
						{"1.event"
							{id "menu:0_flak_ai_off"}
						}
					}
				}
				{actions
					{"event"
						{event "menu:0_flak_ai_on"}
						{mode reset}
						{delay 0}
					}
					{"if"
						{condition
							{type event}
							{id "menu:0"}
						}
						{"reinforcement"
							{operation hide}
							{name menu_0_flak_ai_off}
						}
						{"reinforcement"
							{operation show}
							{name menu_0_flak_ai_on}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/flak_ai/on"}
					}
				}
			}
			{"mod:add/menu:0/flak_ai/on"
				{condition
					{terms
						{"1.event"
							{id "menu:0_flak_ai_on"}
						}
					}
				}
				{actions
					{"event"
						{event "menu:0_flak_ai_off"}
						{mode reset}
						{delay 0}
					}
					{"if"
						{condition
							{type event}
							{id "menu:0"}
						}
						{"reinforcement"
							{operation hide}
							{name menu_0_flak_ai_on}
						}
						{"reinforcement"
							{operation show}
							{name menu_0_flak_ai_off}
						}
					}
					{"trigger"
						{name "mod:add/menu:0/flak_ai/off"}
					}
				}
			}
			{"mod:add/basic/store_unit/reinf/tank/show/heavy/show"
				{condition
					{expression "1 & 2 & 3 & !4 & 7"}
					{terms
						{"1.event"
							{id "store_units"}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag vet_troops}
										}
									}
									{include
										{state
											{state inactive}
										}
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
										{tag
											{tag heavy_tank}
										}
									}
								}
							}
						}
						{"3.event"
							{id "players:menu_end"}
						}
						{"4.event"
							{id "store_units_end_work"}
						}
						{"7.entities"
							{selector
								{ignore_captured_by_user 0}
								{tag captured}
							}
							{count
								{op ">="}
								{value 4}
							}
						}
					}
				}
				{actions
					{"delay"
						{time 1}
					}
					{"reinforcement"
						{operation show}
						{name store_units_tanks}
					}
					{"trigger"
						{name "mod:add/basic/store_unit/reinf/tank/show/heavy/hide"}
					}
				}
			}
			{"mod:add/basic/store_unit/reinf/tank/show/heavy/hide"
				{condition
					{expression "1 & 2 & 3 & !4 & 7"}
					{terms
						{"1.event"
							{id "store_units"}
						}
						{"2.entities"
							{selector
								{source advanced}
								{ignore_captured_by_user 0}
								{group
									{select
										{tag
											{tag vet_troops}
										}
									}
									{include
										{state
											{state inactive}
										}
										{prop
											{prop vehicle}
										}
										{state
											{state inhabited}
										}
										{tag
											{tag heavy_tank}
										}
									}
								}
							}
						}
						{"3.event"
							{id "players:menu_end"}
						}
						{"4.event"
							{id "store_units_end_work"}
						}
						{"7.entities"
							{selector
								{ignore_captured_by_user 0}
								{tag captured}
							}
							{count
								{op "<<"}
								{value 4}
							}
						}
					}
				}
				{actions
					{"delay"
						{time 1}
					}
					{"reinforcement"
						{operation hide}
						{name store_units_tanks}
					}
					{"trigger"
						{name "mod:add/basic/store_unit/reinf/tank/show/heavy/show"}
					}
				}
			}
		}
		{waypoints
			{"3000"
				{position -57.3337 70.3824 0}
				{radius 1}
			}
		}
	}
;}
